GOROOT=/usr/local/Cellar/go@1.14/1.14.13/libexec #gosetup
GOPATH=/Users/janosseteny/go #gosetup
/usr/local/Cellar/go@1.14/1.14.13/libexec/bin/go test -json ./...
?   	github.com/bitrise-io/den/agent	[no test files]
?   	github.com/bitrise-io/den/agent/agent	[no test files]
?   	github.com/bitrise-io/den/agent/cmd	[no test files]
=== RUN   TestConfigs
--- PASS: TestConfigs (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/configs	(cached)
time="2021-01-14T17:51:41.406843+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   TestCommandSuite
--- PASS: TestCommandSuite (0.00s)
=== RUN   TestCommandSuite/TestAliases
    --- PASS: TestCommandSuite/TestAliases (0.00s)
=== RUN   TestCommandSuite/TestNewBuilder
    --- PASS: TestCommandSuite/TestNewBuilder (0.00s)
=== RUN   TestCommandSuite/TestRunFn
    --- PASS: TestCommandSuite/TestRunFn (0.00s)
=== RUN   TestCommandSuite/TestSubcommand
    --- PASS: TestCommandSuite/TestSubcommand (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/commands	(cached)
time="2021-01-14T17:51:41.407073+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   TestRepo
--- PASS: TestRepo (0.03s)
=== RUN   TestRepo/TestAgentCreateModel
    --- PASS: TestRepo/TestAgentCreateModel (0.00s)
=== RUN   TestRepo/TestCreateAgent
    --- PASS: TestRepo/TestCreateAgent (0.03s)
=== RUN   TestAgentService
--- PASS: TestAgentService (0.00s)
=== RUN   TestAgentService/TestKillAgentNotFound
    --- PASS: TestAgentService/TestKillAgentNotFound (0.00s)
=== RUN   TestAgentService/TestKillFailedUpdateAgent
    --- PASS: TestAgentService/TestKillFailedUpdateAgent (0.00s)
=== RUN   TestAgentService/TestKillMissingConfigFile
    --- PASS: TestAgentService/TestKillMissingConfigFile (0.00s)
=== RUN   TestAgentService/TestfindByID
    --- PASS: TestAgentService/TestfindByID (0.00s)
=== RUN   TestListFilter
--- PASS: TestListFilter (0.00s)
=== RUN   TestListFilter/invalid_create_at_date
    --- PASS: TestListFilter/invalid_create_at_date (0.00s)
=== RUN   TestListFilter/valid_data_with_default_is_dead
    --- PASS: TestListFilter/valid_data_with_default_is_dead (0.00s)
=== RUN   TestListFilter/valid_data_with_is_dead_setting
    --- PASS: TestListFilter/valid_data_with_is_dead_setting (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/agent	(cached)
=== RUN   TestWithLogs
--- PASS: TestWithLogs (0.00s)
=== RUN   TestWithLogs/ok
    --- PASS: TestWithLogs/ok (0.00s)
=== RUN   TestWithLogs/notHTTPErr
    --- PASS: TestWithLogs/notHTTPErr (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus
--- PASS: TestWithLogs_moreHttpErrorStatus (0.03s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Bad_Request
    --- PASS: TestWithLogs_moreHttpErrorStatus/Bad_Request (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Unauthorized
    --- PASS: TestWithLogs_moreHttpErrorStatus/Unauthorized (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Payment_Required
    --- PASS: TestWithLogs_moreHttpErrorStatus/Payment_Required (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Forbidden
    --- PASS: TestWithLogs_moreHttpErrorStatus/Forbidden (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Not_Found
    --- PASS: TestWithLogs_moreHttpErrorStatus/Not_Found (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Method_Not_Allowed
    --- PASS: TestWithLogs_moreHttpErrorStatus/Method_Not_Allowed (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Not_Acceptable
    --- PASS: TestWithLogs_moreHttpErrorStatus/Not_Acceptable (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Proxy_Authentication_Required
    --- PASS: TestWithLogs_moreHttpErrorStatus/Proxy_Authentication_Required (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Request_Timeout
    --- PASS: TestWithLogs_moreHttpErrorStatus/Request_Timeout (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Conflict
    --- PASS: TestWithLogs_moreHttpErrorStatus/Conflict (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Gone
    --- PASS: TestWithLogs_moreHttpErrorStatus/Gone (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Length_Required
    --- PASS: TestWithLogs_moreHttpErrorStatus/Length_Required (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Precondition_Failed
    --- PASS: TestWithLogs_moreHttpErrorStatus/Precondition_Failed (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Request_Entity_Too_Large
    --- PASS: TestWithLogs_moreHttpErrorStatus/Request_Entity_Too_Large (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Request_URI_Too_Long
    --- PASS: TestWithLogs_moreHttpErrorStatus/Request_URI_Too_Long (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Unsupported_Media_Type
    --- PASS: TestWithLogs_moreHttpErrorStatus/Unsupported_Media_Type (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Requested_Range_Not_Satisfiable
    --- PASS: TestWithLogs_moreHttpErrorStatus/Requested_Range_Not_Satisfiable (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Expectation_Failed
    --- PASS: TestWithLogs_moreHttpErrorStatus/Expectation_Failed (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/I'm_a_teapot
    --- PASS: TestWithLogs_moreHttpErrorStatus/I'm_a_teapot (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Misdirected_Request
    --- PASS: TestWithLogs_moreHttpErrorStatus/Misdirected_Request (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Unprocessable_Entity
    --- PASS: TestWithLogs_moreHttpErrorStatus/Unprocessable_Entity (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Locked
    --- PASS: TestWithLogs_moreHttpErrorStatus/Locked (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Failed_Dependency
    --- PASS: TestWithLogs_moreHttpErrorStatus/Failed_Dependency (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Too_Early
    --- PASS: TestWithLogs_moreHttpErrorStatus/Too_Early (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Upgrade_Required
    --- PASS: TestWithLogs_moreHttpErrorStatus/Upgrade_Required (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Precondition_Required
    --- PASS: TestWithLogs_moreHttpErrorStatus/Precondition_Required (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Too_Many_Requests
    --- PASS: TestWithLogs_moreHttpErrorStatus/Too_Many_Requests (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Request_Header_Fields_Too_Large
    --- PASS: TestWithLogs_moreHttpErrorStatus/Request_Header_Fields_Too_Large (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Unavailable_For_Legal_Reasons
    --- PASS: TestWithLogs_moreHttpErrorStatus/Unavailable_For_Legal_Reasons (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Internal_Server_Error
    --- PASS: TestWithLogs_moreHttpErrorStatus/Internal_Server_Error (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Not_Implemented
    --- PASS: TestWithLogs_moreHttpErrorStatus/Not_Implemented (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Bad_Gateway
    --- PASS: TestWithLogs_moreHttpErrorStatus/Bad_Gateway (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Service_Unavailable
    --- PASS: TestWithLogs_moreHttpErrorStatus/Service_Unavailable (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Gateway_Timeout
    --- PASS: TestWithLogs_moreHttpErrorStatus/Gateway_Timeout (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/HTTP_Version_Not_Supported
    --- PASS: TestWithLogs_moreHttpErrorStatus/HTTP_Version_Not_Supported (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Variant_Also_Negotiates
    --- PASS: TestWithLogs_moreHttpErrorStatus/Variant_Also_Negotiates (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Insufficient_Storage
    --- PASS: TestWithLogs_moreHttpErrorStatus/Insufficient_Storage (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Loop_Detected
    --- PASS: TestWithLogs_moreHttpErrorStatus/Loop_Detected (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Not_Extended
    --- PASS: TestWithLogs_moreHttpErrorStatus/Not_Extended (0.00s)
=== RUN   TestWithLogs_moreHttpErrorStatus/Network_Authentication_Required
    --- PASS: TestWithLogs_moreHttpErrorStatus/Network_Authentication_Required (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/logger	(cached)
=== RUN   Test_AuthenticationLimiter_Int
--- PASS: Test_AuthenticationLimiter_Int (0.01s)
=== RUN   Test_AuthenticationLimiter_Int/Test_banAnIPAddress
    --- PASS: Test_AuthenticationLimiter_Int/Test_banAnIPAddress (0.00s)
=== RUN   Test_AuthenticationLimiter_Int/Test_banAnIPAddress_Inconsistent_State
    --- PASS: Test_AuthenticationLimiter_Int/Test_banAnIPAddress_Inconsistent_State (0.00s)
=== RUN   Test_AuthenticationLimiter_Int/Test_bumpIPAddressCounter
    --- PASS: Test_AuthenticationLimiter_Int/Test_bumpIPAddressCounter (0.00s)
=== RUN   Test_AuthenticationLimiter_Int/Test_getIPAddressStatus
    --- PASS: Test_AuthenticationLimiter_Int/Test_getIPAddressStatus (0.00s)
=== RUN   Test_AuthenticationLimiter_Int/Test_moveIPAddressesToMonitoring
    --- PASS: Test_AuthenticationLimiter_Int/Test_moveIPAddressesToMonitoring (0.00s)
=== RUN   Test_AuthenticationLimiter_Int/Test_moveIPAddressesToMonitoring_Inconsistent_State
    --- PASS: Test_AuthenticationLimiter_Int/Test_moveIPAddressesToMonitoring_Inconsistent_State (0.00s)
=== RUN   Test_AuthenticationLimiter_Int/Test_reapMonitoredIPAddresses
    --- PASS: Test_AuthenticationLimiter_Int/Test_reapMonitoredIPAddresses (0.00s)
=== RUN   Test_AuthenticationLimiter_Int/Test_reapMonitoredIPAddresses_Inconsistent_State
    --- PASS: Test_AuthenticationLimiter_Int/Test_reapMonitoredIPAddresses_Inconsistent_State (0.00s)
=== RUN   Test_AuthenticationLimiter_Ext
--- PASS: Test_AuthenticationLimiter_Ext (11.07s)
=== RUN   Test_AuthenticationLimiter_Ext/Test_BanExpire
    --- PASS: Test_AuthenticationLimiter_Ext/Test_BanExpire (3.01s)
=== RUN   Test_AuthenticationLimiter_Ext/Test_BanIP_Lift_BanAgain
    --- PASS: Test_AuthenticationLimiter_Ext/Test_BanIP_Lift_BanAgain (5.02s)
=== RUN   Test_AuthenticationLimiter_Ext/Test_BanIP_Threshold_Exceeded
    --- PASS: Test_AuthenticationLimiter_Ext/Test_BanIP_Threshold_Exceeded (0.01s)
=== RUN   Test_AuthenticationLimiter_Ext/Test_BanIP_Threshold_Exceeded_403
    --- PASS: Test_AuthenticationLimiter_Ext/Test_BanIP_Threshold_Exceeded_403 (0.01s)
=== RUN   Test_AuthenticationLimiter_Ext/Test_Monitoring_To_Ban
    --- PASS: Test_AuthenticationLimiter_Ext/Test_Monitoring_To_Ban (3.01s)
=== RUN   Test_AuthenticationLimiter_Ext/Test_WhitelistIP_Treshold_Exceeded
    --- PASS: Test_AuthenticationLimiter_Ext/Test_WhitelistIP_Treshold_Exceeded (0.00s)
=== RUN   Test_NewAuthErrorLimiter
--- PASS: Test_NewAuthErrorLimiter (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/limiter	(cached)
=== RUN   Test_Metadata
--- PASS: Test_Metadata (0.00s)
=== RUN   Test_Metadata/can_be_transformed_to_metrics
    --- PASS: Test_Metadata/can_be_transformed_to_metrics (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/metrics/models	(cached)
=== RUN   TestStringToMarshalJSON
--- PASS: TestStringToMarshalJSON (0.00s)
=== RUN   TestStringToMarshalJSON/valid_string
    --- PASS: TestStringToMarshalJSON/valid_string (0.00s)
=== RUN   TestStringToMarshalJSON/invalid_string
    --- PASS: TestStringToMarshalJSON/invalid_string (0.00s)
=== RUN   TestStringToUnmarshalJSON
--- PASS: TestStringToUnmarshalJSON (0.00s)
=== RUN   TestStringToUnmarshalJSON/valid_string
    --- PASS: TestStringToUnmarshalJSON/valid_string (0.00s)
=== RUN   TestStringToUnmarshalJSON/valid_string#01
    --- PASS: TestStringToUnmarshalJSON/valid_string#01 (0.00s)
=== RUN   TestTimeToMarshalJSON
--- PASS: TestTimeToMarshalJSON (0.00s)
=== RUN   TestTimeToMarshalJSON/valid_string
    --- PASS: TestTimeToMarshalJSON/valid_string (0.00s)
=== RUN   TestTimeToMarshalJSON/invalid_date
    --- PASS: TestTimeToMarshalJSON/invalid_date (0.00s)
=== RUN   TestTimeToUnmarshalJSON
--- PASS: TestTimeToUnmarshalJSON (0.00s)
=== RUN   TestTimeToUnmarshalJSON/valid_time
    --- PASS: TestTimeToUnmarshalJSON/valid_time (0.00s)
=== RUN   TestTimeToUnmarshalJSON/invalid_time
    --- PASS: TestTimeToUnmarshalJSON/invalid_time (0.00s)
=== RUN   TestUUIDToMarshalJSON
--- PASS: TestUUIDToMarshalJSON (0.00s)
=== RUN   TestUUIDToMarshalJSON/valid_uuid
    --- PASS: TestUUIDToMarshalJSON/valid_uuid (0.00s)
=== RUN   TestUUIDToMarshalJSON/invalid_uuid
    --- PASS: TestUUIDToMarshalJSON/invalid_uuid (0.00s)
=== RUN   TestUUIDToUnmarshalJSON
--- PASS: TestUUIDToUnmarshalJSON (0.00s)
=== RUN   TestUUIDToUnmarshalJSON/valid_uuid
    --- PASS: TestUUIDToUnmarshalJSON/valid_uuid (0.00s)
=== RUN   TestUUIDToUnmarshalJSON/invalid_uuid
    --- PASS: TestUUIDToUnmarshalJSON/invalid_uuid (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/models/nulls	(cached)
=== RUN   TestCustomValidationErrorString
--- PASS: TestCustomValidationErrorString (0.00s)
=== RUN   TestCustomValidationErrorString/add_valid_error_string
    --- PASS: TestCustomValidationErrorString/add_valid_error_string (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/models/validation	(cached)
=== RUN   TestRegexArrayMatch
--- PASS: TestRegexArrayMatch (0.00s)
=== RUN   TestStringArrayIsPresent
--- PASS: TestStringArrayIsPresent (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/validators	(cached)
time="2021-01-14T17:51:41.416616+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   Test_processAgentIntroSecretWithTags
--- PASS: Test_processAgentIntroSecretWithTags (0.00s)
=== RUN   Test_processAgentIntroSecretWithTags/Agent1ntr0Secret=t1
    --- PASS: Test_processAgentIntroSecretWithTags/Agent1ntr0Secret=t1 (0.00s)
=== RUN   Test_processAgentIntroSecretWithTags/Agent1ntr0Secret=t1,t-2
    --- PASS: Test_processAgentIntroSecretWithTags/Agent1ntr0Secret=t1,t-2 (0.00s)
=== RUN   Test_processAgentIntroSecretWithTags/Agent1ntr0Secret=t3,t1,t-2
    --- PASS: Test_processAgentIntroSecretWithTags/Agent1ntr0Secret=t3,t1,t-2 (0.00s)
=== RUN   Test_processAgentIntroSecretWithTags/Agent1ntr0Secret__=__AnInvalid.Tag$Here_,_t1_,_t-2
    --- PASS: Test_processAgentIntroSecretWithTags/Agent1ntr0Secret__=__AnInvalid.Tag$Here_,_t1_,_t-2 (0.00s)
=== RUN   Test_processAgentIntroSecretWithTags/#00
    --- PASS: Test_processAgentIntroSecretWithTags/#00 (0.00s)
=== RUN   Test_processAgentIntroSecretWithTags/=tag1
    --- PASS: Test_processAgentIntroSecretWithTags/=tag1 (0.00s)
=== RUN   Test_processAgentIntroSecretWithTags/Agent1ntr0Secret
    --- PASS: Test_processAgentIntroSecretWithTags/Agent1ntr0Secret (0.00s)
=== RUN   Test_processAgentIntroSecretWithTags/Agent1ntr0Secret=
    --- PASS: Test_processAgentIntroSecretWithTags/Agent1ntr0Secret= (0.00s)
=== RUN   Test_processAgentIntroSecretWithTags/Agent1ntr0Secret=t1=t2
    --- PASS: Test_processAgentIntroSecretWithTags/Agent1ntr0Secret=t1=t2 (0.00s)
=== RUN   Test_HTTPErrorHandler
--- PASS: Test_HTTPErrorHandler (0.04s)
=== RUN   Test_HTTPErrorHandler/plain_internal_server_error
time="2021-01-14T17:51:41.503747+01:00" level=info msg="Agent Intro Secret created: 67f258f3-e5aa-404f-ab7d-6e334feaa6ef" application=bitrise-den component=server environment=development version=1.16.0
time="2021-01-14T17:51:41.503797+01:00" level=info msg="Agent Intro Secret registered" application=bitrise-den component=server environment=development version=1.16.0
time="2021-01-14T17:51:41.503853+01:00" level=info msg="Setting Swagger endpoint to /swagger/index.html" application=bitrise-den component=server environment=development version=1.16.0
    --- PASS: Test_HTTPErrorHandler/plain_internal_server_error (0.02s)
=== RUN   Test_HTTPErrorHandler/wrapped_non-http_error
    --- PASS: Test_HTTPErrorHandler/wrapped_non-http_error (0.01s)
=== RUN   Test_HTTPErrorHandler/wrapped_http_error
    --- PASS: Test_HTTPErrorHandler/wrapped_http_error (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/router	(cached)
time="2021-01-14T17:51:41.405555+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   TestNewStatusChangedData
--- PASS: TestNewStatusChangedData (0.00s)
=== RUN   TestNewStatusChangedData/Simple,_finished_task_1
    --- PASS: TestNewStatusChangedData/Simple,_finished_task_1 (0.00s)
=== RUN   TestNewStatusChangedData/Simple,_finished_task_2
    --- PASS: TestNewStatusChangedData/Simple,_finished_task_2 (0.00s)
=== RUN   TestNewStatusChangedDataWithAbortReason
--- PASS: TestNewStatusChangedDataWithAbortReason (0.00s)
=== RUN   TestNewStatusChangedDataWithAbortReason/Simple,_finished_task_with_empty_abort_reason
    --- PASS: TestNewStatusChangedDataWithAbortReason/Simple,_finished_task_with_empty_abort_reason (0.00s)
=== RUN   TestNewStatusChangedDataWithAbortReason/Simple,_finished_task_with_abort_reason
    --- PASS: TestNewStatusChangedDataWithAbortReason/Simple,_finished_task_with_abort_reason (0.00s)
PASS
ok  	github.com/bitrise-io/den/server/webhooks	(cached)
=== RUN   TestRemoteAccessSuite
--- PASS: TestRemoteAccessSuite (0.05s)
=== RUN   TestRemoteAccessSuite/TestRenderScript
    --- PASS: TestRemoteAccessSuite/TestRenderScript (0.00s)
=== RUN   TestRemoteAccessSuite/TestRenderScriptToTempFile
    --- PASS: TestRemoteAccessSuite/TestRenderScriptToTempFile (0.05s)
PASS
ok  	github.com/bitrise-io/den/agent/taskexec/remoteaccess	0.749s
=== RUN   Test_dockerConfig_createRunCommandArrayWith
--- PASS: Test_dockerConfig_createRunCommandArrayWith (0.00s)
=== RUN   Test_newCommandFromArray
--- PASS: Test_newCommandFromArray (0.00s)
=== RUN   Test_dockerConfig_getContainerName
--- PASS: Test_dockerConfig_getContainerName (0.00s)
=== RUN   Test_dockerConfig_getContainerName/Get_the_container_name
    --- PASS: Test_dockerConfig_getContainerName/Get_the_container_name (0.00s)
=== RUN   Test_BitriseCLIExecutor_Start
time="2021-01-15T10:41:20.020514+01:00" level=info msg="$ bitrise \"run\" \"--config\" \"/var/folders/6c/yqfjb62x4pd3z4_82sp88j400000gq/T/bitrise-agent228139394/bitrise.yml\" \"--inventory\" \"/var/folders/6c/yqfjb62x4pd3z4_82sp88j400000gq/T/bitrise-agent228139394/bitrise.secrets.yml\" \"--json-params-base64\" \"eyJ3b3JrZmxvdyI6ImxpbnV4LWRlYnVnIn0=\"" application=bitrise-den component=agent environment=development version=1.16.0
--- PASS: Test_BitriseCLIExecutor_Start (1.48s)
=== RUN   Test_SimpleCommandsExecutor_Start
--- PASS: Test_SimpleCommandsExecutor_Start (0.96s)
=== RUN   Test_writeLineToBuildLog_empty
--- PASS: Test_writeLineToBuildLog_empty (0.00s)
=== RUN   Test_writeLineToBuildLog_cheese
--- PASS: Test_writeLineToBuildLog_cheese (0.00s)
=== RUN   Test_writeLineToBuildLog_special
--- PASS: Test_writeLineToBuildLog_special (0.00s)
PASS
ok  	github.com/bitrise-io/den/agent/taskexec	3.182s
=== RUN   Test_SafeReadResponseBody
--- PASS: Test_SafeReadResponseBody (0.00s)
=== RUN   Test_SafeReadResponseBody_Nil
--- PASS: Test_SafeReadResponseBody_Nil (0.00s)
=== RUN   Test_ReadAndRestoreBodyReaderCloser
--- PASS: Test_ReadAndRestoreBodyReaderCloser (0.00s)
=== RUN   Test_ResponseBodyCloser
--- PASS: Test_ResponseBodyCloser (0.00s)
=== RUN   Test_ResponseBodyDrainer
--- PASS: Test_ResponseBodyDrainer (0.00s)
PASS
ok  	github.com/bitrise-io/den/utils	0.835s
=== RUN   Test_Short
--- PASS: Test_Short (0.00s)
=== RUN   Test_Long
--- PASS: Test_Long (0.00s)
=== RUN   Test_GceLabel
--- PASS: Test_GceLabel (0.00s)
PASS
ok  	github.com/bitrise-io/den/version	2.381s
=== RUN   TestRedisConnectionSuite
--- PASS: TestRedisConnectionSuite (0.00s)
=== RUN   TestRedisConnectionSuite/TestFailedConnection
    --- PASS: TestRedisConnectionSuite/TestFailedConnection (0.00s)
=== RUN   TestRedisConnectionSuite/TestSuccessConnection
    --- PASS: TestRedisConnectionSuite/TestSuccessConnection (0.00s)
PASS
ok  	github.com/bitrise-io/den/instrumentation	2.662s
time="2021-01-15T10:41:22.511002+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   Test_agentGetCmdFn
    agent_get_test.go:91: Raw format
    agent_get_test.go:91: Pretty format
    agent_get_test.go:91: JSON format
--- PASS: Test_agentGetCmdFn (0.00s)
=== RUN   Test_getAgent
    agent_get_test.go:99: Minimal OK
    agent_get_test.go:117: Agent not found
&{0xc00040aa00 0xc0002d1800 {} 0x1103d10 true false false false 0 {0 0} 0xc00048c040 {0xc000496460 map[] false false} map[] false 0 -1 404 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc0004940e0 0}{"error": "Agent not found"}    agent_get_test.go:133: Agent not found (verbose)
&{0xc0003e00a0 0xc0003ce200 {} 0x1103d10 true false false false 0 {0 0} 0xc000398140 {0xc0003ac620 map[] false false} map[] false 0 -1 404 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc0003aa0e0 0}{"error": "Agent not found"}    agent_get_test.go:153: Bad request
&{0xc0003e0140 0xc0003ce500 {} 0x1103d10 true false false false 0 {0 0} 0xc00048c040 {0xc0004968c0 map[] false false} map[] false 0 -1 400 false false [] 0 [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] [0 0 0 0 0 0 0 0 0 0] [0 0 0] 0xc000494150 0}{"error": "Bad request"}    agent_get_test.go:169: Bad request (verbose)
    agent_get_test.go:188: Non success response
--- PASS: Test_getAgent (0.01s)
=== RUN   Test_agentView_FormattedOutput
    agent_get_test.go:209: Blank Agents
--- PASS: Test_agentView_FormattedOutput (0.00s)
=== RUN   Test_prettyTimeTextFromSeconds
--- PASS: Test_prettyTimeTextFromSeconds (0.00s)
=== RUN   TestNewInputError
--- PASS: TestNewInputError (0.00s)
=== RUN   Test_validateOutputFormat
    root_test.go:18: Valid formats
    root_test.go:29: Invalid formats
--- PASS: Test_validateOutputFormat (0.00s)
=== RUN   Test_AdminSecretHeaderKey
    root_test.go:44: Testing Admin Secret Header Key Bitrise-Den-Admin-Secret
--- PASS: Test_AdminSecretHeaderKey (0.00s)
=== RUN   Test_taskCreate
    task_create_test.go:15: No Config Path nor Config Data - return InputError
--- PASS: Test_taskCreate (0.00s)
=== RUN   Test_createTaskByInput
    task_create_test.go:24: Minimal OK

time="2021-01-15T10:41:22.522969+01:00" level=info msg="\x1b[32;1mREQUEST:\x1b[0m &http.Request{Method:\"POST\", URL:(*url.URL)(0xc0000faf00), Proto:\"HTTP/1.1\", ProtoMajor:1, ProtoMinor:1, Header:http.Header{\"Bitrise-Den-Admin-Secret\":[]string{\"Admin1234\"}, \"Content-Type\":[]string{\"application/json\"}}, Body:ioutil.nopCloser{Reader:(*bytes.Buffer)(0xc00021d4d0)}, GetBody:(func() (io.ReadCloser, error))(0x13b1980), ContentLength:95, TransferEncoding:[]string(nil), Close:false, Host:\"127.0.0.1:59982\", Form:url.Values(nil), PostForm:url.Values(nil), MultipartForm:(*multipart.Form)(nil), Trailer:http.Header(nil), RemoteAddr:\"\", RequestURI:\"\", TLS:(*tls.ConnectionState)(nil), Cancel:(<-chan struct {})(nil), Response:(*http.Response)(nil), ctx:(*context.emptyCtx)(0xc0000400a0)}" application=bitrise-den component=cli environment=development version=1.16.0


time="2021-01-15T10:41:22.526158+01:00" level=info msg="\x1b[32;1mRESPONSE:\x1b[0m \"{\\\"id\\\":\\\"00000000-0000-0000-0000-000000000000\\\",\\\"created_at\\\":\\\"0001-01-01T00:00:00Z\\\",\\\"updated_at\\\":\\\"0001-01-01T00:00:00Z\\\",\\\"config\\\":\\\"\\\",\\\"config_type\\\":\\\"\\\",\\\"exit_code\\\":null,\\\"generated_log_chunk_count\\\":null,\\\"tags_array\\\":null,\\\"started_at\\\":null,\\\"timeout_seconds\\\":0,\\\"finished_at\\\":null,\\\"aborted\\\":false,\\\"timed_out\\\":false,\\\"webhook_url\\\":null,\\\"metadata\\\":null}\\n\"" application=bitrise-den component=cli environment=development version=1.16.0

 * [ID:00000000-0000-0000-0000-000000000000] {Base:{ID:00000000-0000-0000-0000-000000000000 CreatedAt:0001-01-01 00:00:00 +0000 UTC UpdatedAt:0001-01-01 00:00:00 +0000 UTC} Config: ConfigType: ExitCode:{NullInt64:{Int64:0 Valid:false}} GeneratedLogChunkCount:{NullInt64:{Int64:0 Valid:false}} TagsArray:[] StartedAt:{NullInt64:{Int64:0 Valid:false}} TimeoutSeconds:0 FinishedAt:{NullTime:{Time:0001-01-01 00:00:00 +0000 UTC Valid:false}} Aborted:false TimedOut:false WebhookURL:{NullString:{String: Valid:false}} Metadata:map[]}
    task_create_test.go:39: Non 201 response

time="2021-01-15T10:41:22.52765+01:00" level=info msg="\x1b[32;1mREQUEST:\x1b[0m &http.Request{Method:\"POST\", URL:(*url.URL)(0xc0000fa080), Proto:\"HTTP/1.1\", ProtoMajor:1, ProtoMinor:1, Header:http.Header{\"Bitrise-Den-Admin-Secret\":[]string{\"Admin1234\"}, \"Content-Type\":[]string{\"application/json\"}}, Body:ioutil.nopCloser{Reader:(*bytes.Buffer)(0xc00021c210)}, GetBody:(func() (io.ReadCloser, error))(0x13b1980), ContentLength:95, TransferEncoding:[]string(nil), Close:false, Host:\"127.0.0.1:59984\", Form:url.Values(nil), PostForm:url.Values(nil), MultipartForm:(*multipart.Form)(nil), Trailer:http.Header(nil), RemoteAddr:\"\", RequestURI:\"\", TLS:(*tls.ConnectionState)(nil), Cancel:(<-chan struct {})(nil), Response:(*http.Response)(nil), ctx:(*context.emptyCtx)(0xc0000400a0)}" application=bitrise-den component=cli environment=development version=1.16.0


time="2021-01-15T10:41:22.528734+01:00" level=info msg="\x1b[31;1mRESPONSE:\x1b[0m ERROR\n" application=bitrise-den component=cli environment=development version=1.16.0
--- PASS: Test_createTaskByInput (0.01s)
=== RUN   Test_mustFprintln
    utils_test.go:19: OK
    utils_test.go:27: Panic
--- PASS: Test_mustFprintln (0.00s)
=== RUN   Test_mustFprintf
    utils_test.go:37: OK
    utils_test.go:45: Panic
--- PASS: Test_mustFprintf (0.00s)
PASS
ok  	github.com/bitrise-io/den/cli/cmd	2.497s
time="2021-01-15T10:41:22.511159+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   Test_sendLogChunkWithRetry
    task_communicator_test.go:135: Testing LogChunk POST with retry
--- PASS: Test_sendLogChunkWithRetry (0.24s)
PASS
ok  	github.com/bitrise-io/den/agent/taskproc	2.759s
time="2021-01-15T10:41:22.511212+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   Test_PipeChunker_HugeMaxChunkSize
--- PASS: Test_PipeChunker_HugeMaxChunkSize (0.02s)
=== RUN   Test_PipeChunker_SmallMaxChunkSize
--- PASS: Test_PipeChunker_SmallMaxChunkSize (0.01s)
=== RUN   Test_PipeChunker_TinyMaxChunkSize
--- PASS: Test_PipeChunker_TinyMaxChunkSize (0.01s)
=== RUN   Test_PipeChunker_TinyMaxChunkSize_BelowUTF8Size
--- PASS: Test_PipeChunker_TinyMaxChunkSize_BelowUTF8Size (0.01s)
=== RUN   Test_PipeChunker_OddMaxChunkSize
--- PASS: Test_PipeChunker_OddMaxChunkSize (0.01s)
=== RUN   Test_PipeChunker_InvalidByteSequence
--- PASS: Test_PipeChunker_InvalidByteSequence (0.00s)
PASS
ok  	github.com/bitrise-io/den/agent/logchunker	2.559s
time="2021-01-15T10:41:22.511973+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   TestPager
--- PASS: TestPager (0.00s)
=== RUN   TestPager/add_valid_value_to_pager
    --- PASS: TestPager/add_valid_value_to_pager (0.00s)
=== RUN   TestPager/add_default_value_to_pager
    --- PASS: TestPager/add_default_value_to_pager (0.00s)
=== RUN   TestPager/add_default_value_with_mockpager_to_pager
    --- PASS: TestPager/add_default_value_with_mockpager_to_pager (0.00s)
=== RUN   TestConvertTagsSliceToDBTags
    tag_utils_test.go:10: Empty
    tag_utils_test.go:17: Single item
    tag_utils_test.go:36: Whitepace - trim
    tag_utils_test.go:44: Multiple items - sorted!
    tag_utils_test.go:62: Leave out empty items
    tag_utils_test.go:76: Valid tags
    tag_utils_test.go:87: Invalid tags
--- PASS: TestConvertTagsSliceToDBTags (0.00s)
=== RUN   Test_ModelSuite
--- FAIL: Test_ModelSuite (1.62s)
=== RUN   Test_ModelSuite/TestFindTaskAndTaskLockByAgent
    --- PASS: Test_ModelSuite/TestFindTaskAndTaskLockByAgent (0.12s)
=== RUN   Test_ModelSuite/TestFindTaskAndTaskLockByAgent/Test_if_Task_and_task_lock_are_found_by_Agent_ID
WARN: pg: 2021/01/15 10:41:22 Task.TaskConfig has unknown tag option: "rel"
WARN: pg: 2021/01/15 10:41:22 TaskConfig.Task has unknown tag option: "rel"
        --- PASS: Test_ModelSuite/TestFindTaskAndTaskLockByAgent/Test_if_Task_and_task_lock_are_found_by_Agent_ID (0.02s)
=== RUN   Test_ModelSuite/TestFindTaskByAgent
    --- PASS: Test_ModelSuite/TestFindTaskByAgent (0.03s)
=== RUN   Test_ModelSuite/TestFindTaskByAgent/Test_if_Task_is_found_by_Agent_ID
        --- PASS: Test_ModelSuite/TestFindTaskByAgent/Test_if_Task_is_found_by_Agent_ID (0.01s)
=== RUN   Test_ModelSuite/TestFindTaskByAgentEager
    --- PASS: Test_ModelSuite/TestFindTaskByAgentEager (0.04s)
=== RUN   Test_ModelSuite/TestFindTaskByAgentEager/Test_if_Task_is_found_by_Agent_ID
        --- PASS: Test_ModelSuite/TestFindTaskByAgentEager/Test_if_Task_is_found_by_Agent_ID (0.02s)
=== RUN   Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:15: Only "not taken" tasks
    task_schedule_utils_test.go:18: Create Task
    task_schedule_utils_test.go:35: One matching Agent
    task_schedule_utils_test.go:47: Should find the match between the two
    task_schedule_utils_test.go:50:
        	Error Trace:	task_schedule_utils_test.go:50
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:49
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:49
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	SQL Error
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:22
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:49
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:51:
        	Error Trace:	task_schedule_utils_test.go:51
        	Error:      	Should be true
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:52:
        	Error Trace:	task_schedule_utils_test.go:52
        	Error:      	Not equal:
        	            	expected: uuid.UUID{0x39, 0x4f, 0xac, 0xe5, 0x13, 0x2c, 0x44, 0xc6, 0x95, 0x99, 0xb1, 0x24, 0xb9, 0x29, 0xef, 0x1f}
        	            	actual  : uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,3 @@
        	            	 (uuid.UUID) (len=16) {
        	            	- 00000000  39 4f ac e5 13 2c 44 c6  95 99 b1 24 b9 29 ef 1f  |9O...,D....$.)..|
        	            	+ 00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	 }
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:55: But if the task is already taken
    task_schedule_utils_test.go:64: Should no longer find it
    task_schedule_utils_test.go:67:
        	Error Trace:	task_schedule_utils_test.go:67
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:66
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:66
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	SQL Error
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:22
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:66
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:74: Create Tasks
    task_schedule_utils_test.go:106: One matching Agent
    task_schedule_utils_test.go:118: Should find the match between the two
    task_schedule_utils_test.go:121:
        	Error Trace:	task_schedule_utils_test.go:121
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:120
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:120
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	SQL Error
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:22
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:120
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:122:
        	Error Trace:	task_schedule_utils_test.go:122
        	Error:      	Should be true
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:123:
        	Error Trace:	task_schedule_utils_test.go:123
        	Error:      	Not equal:
        	            	expected: uuid.UUID{0xfd, 0x1b, 0x3c, 0x67, 0xa, 0xdc, 0x4d, 0x3d, 0xa6, 0xfb, 0xfc, 0x13, 0x9d, 0x7e, 0x5, 0x45}
        	            	actual  : uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,3 @@
        	            	 (uuid.UUID) (len=16) {
        	            	- 00000000  fd 1b 3c 67 0a dc 4d 3d  a6 fb fc 13 9d 7e 05 45  |..<g..M=.....~.E|
        	            	+ 00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	 }
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:126: But if the task is already taken
    task_schedule_utils_test.go:135: Should no longer find it
    task_schedule_utils_test.go:138:
        	Error Trace:	task_schedule_utils_test.go:138
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:137
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:137
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	SQL Error
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:22
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:137
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:144: Tag filter
    task_schedule_utils_test.go:147: Create Task
    task_schedule_utils_test.go:162: One matching Agent
    task_schedule_utils_test.go:174: Should find the match between the two
    task_schedule_utils_test.go:177:
        	Error Trace:	task_schedule_utils_test.go:177
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:176
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:176
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	SQL Error
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:22
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:176
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:178:
        	Error Trace:	task_schedule_utils_test.go:178
        	Error:      	Should be true
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:179:
        	Error Trace:	task_schedule_utils_test.go:179
        	Error:      	Not equal:
        	            	expected: uuid.UUID{0x85, 0x18, 0xf7, 0xe6, 0x7b, 0xd2, 0x47, 0x96, 0xb9, 0x34, 0xf6, 0x8d, 0x79, 0x41, 0x1e, 0x68}
        	            	actual  : uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,3 @@
        	            	 (uuid.UUID) (len=16) {
        	            	- 00000000  85 18 f7 e6 7b d2 47 96  b9 34 f6 8d 79 41 1e 68  |....{.G..4..yA.h|
        	            	+ 00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	 }
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:182: Change the Tag of the Task so that it no longer matches with the Agent
    task_schedule_utils_test.go:185:
        	Error Trace:	task_schedule_utils_test.go:185
        	Error:      	Received unexpected error:
        	            	could not find name Aborted in &models.Task{tableName:struct {}{}, Base:models.Base{ID:uuid.UUID{0x85, 0x18, 0xf7, 0xe6, 0x7b, 0xd2, 0x47, 0x96, 0xb9, 0x34, 0xf6, 0x8d, 0x79, 0x41, 0x1e, 0x68}, CreatedAt:time.Time{wall:0xbff876b0b2519398, ext:927637804, loc:(*time.Location)(0x1f0a3c0)}, UpdatedAt:time.Time{wall:0xbff876b0b2ae78d8, ext:933725018, loc:(*time.Location)(0x1f0a3c0)}}, ExitCode:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, GeneratedLogChunkCount:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, TagsArray:pq.StringArray{"something-different"}, StartedAt:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, TimeoutSeconds:1, FinishedAt:nulls.Time{NullTime:sql.NullTime{Time:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}, Valid:false}}, Aborted:false, TimedOut:false, TaskConfig:(*models.TaskConfig)(0xc000526160), WebhookURL:nulls.String{NullString:sql.NullString{String:"", Valid:false}}, Metadata:slices.Map{}}
        	            	github.com/gobuffalo/pop.genericUpdate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:92
        	            	github.com/gobuffalo/pop.(*postgresql).Update
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:71
        	            	github.com/gobuffalo/pop.(*Connection).Update.func1.1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:170
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Connection).Update.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:151
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Update
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:150
        	            	github.com/gobuffalo/pop.(*Connection).Save.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:69
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Save
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:64
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:185
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Connection).Update.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:151
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Update
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:150
        	            	github.com/gobuffalo/pop.(*Connection).Save.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:69
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Save
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:64
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:185
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:188: Should no longer find it
    task_schedule_utils_test.go:191:
        	Error Trace:	task_schedule_utils_test.go:191
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:190
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:190
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	SQL Error
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:22
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:190
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:197: Multi tag
    task_schedule_utils_test.go:200: Create Task
    task_schedule_utils_test.go:214: Another task
    task_schedule_utils_test.go:229: Non (only partially) matching agent
    task_schedule_utils_test.go:241: Should NOT find the match between the two
    task_schedule_utils_test.go:244:
        	Error Trace:	task_schedule_utils_test.go:244
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:243
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:243
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	SQL Error
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:22
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:243
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:249: Register a new agent with the right tags
    task_schedule_utils_test.go:261: Should find the new agent
    task_schedule_utils_test.go:264:
        	Error Trace:	task_schedule_utils_test.go:264
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:263
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:21
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:263
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	SQL Error
        	            	github.com/bitrise-io/den/server/models.FindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils.go:22
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestFindUnscheduledTaskByTags
        	            		/Users/janosseteny/prj/infra/den/server/models/task_schedule_utils_test.go:263
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:265:
        	Error Trace:	task_schedule_utils_test.go:265
        	Error:      	Should be true
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    task_schedule_utils_test.go:266:
        	Error Trace:	task_schedule_utils_test.go:266
        	Error:      	Not equal:
        	            	expected: uuid.UUID{0xe5, 0xfe, 0x5b, 0xea, 0x59, 0xb, 0x48, 0x88, 0xbd, 0x82, 0x6d, 0x31, 0x4, 0x3f, 0x9e, 0x4}
        	            	actual  : uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,3 @@
        	            	 (uuid.UUID) (len=16) {
        	            	- 00000000  e5 fe 5b ea 59 0b 48 88  bd 82 6d 31 04 3f 9e 04  |..[.Y.H...m1.?..|
        	            	+ 00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	 }
        	Test:       	Test_ModelSuite/TestFindUnscheduledTaskByTags
    --- FAIL: Test_ModelSuite/TestFindUnscheduledTaskByTags (0.18s)


Expected :uuid.UUID{0xe5, 0xfe, 0x5b, 0xea, 0x59, 0xb, 0x48, 0x88, 0xbd, 0x82, 0x6d, 0x31, 0x4, 0x3f, 0x9e, 0x4}
Actual   :uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}
<Click to see difference>


=== RUN   Test_ModelSuite/TestTask_Metadata
=== CONT  Test_ModelSuite/TestTask_Metadata
    task_test.go:627:
        	Error Trace:	task_test.go:627
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_Metadata.func1
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:626
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_Metadata.func1
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:626
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestTask_Metadata
        	Messages:   	Task must be found
=== CONT  Test_ModelSuite/TestTask_Metadata
    task_test.go:627:
        	Error Trace:	task_test.go:627
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_Metadata.func1
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:626
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_Metadata.func1
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:626
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestTask_Metadata
        	Messages:   	Task must be found
=== CONT  Test_ModelSuite/TestTask_Metadata
    task_test.go:627:
        	Error Trace:	task_test.go:627
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_Metadata.func1
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:626
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_Metadata.func1
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:626
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestTask_Metadata
        	Messages:   	Task must be found
    task_test.go:628:
        	Error Trace:	task_test.go:628
        	Error:      	Not equal:
        	            	expected: slices.Map(nil)
        	            	actual  : slices.Map{}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,2 +1,3 @@
        	            	-(slices.Map) <nil>
        	            	+(slices.Map) {
        	            	+}

        	Test:       	Test_ModelSuite/TestTask_Metadata
        	Messages:   	The selected record metadata field must be fetched
    --- FAIL: Test_ModelSuite/TestTask_Metadata (0.01s)
=== RUN   Test_ModelSuite/TestTask_Metadata/Metadata_with_value
        --- PASS: Test_ModelSuite/TestTask_Metadata/Metadata_with_value (0.00s)
=== RUN   Test_ModelSuite/TestTask_Metadata/Empty_metadata
        --- PASS: Test_ModelSuite/TestTask_Metadata/Empty_metadata (0.00s)
=== RUN   Test_ModelSuite/TestTask_Metadata/Nil_metadata
        --- PASS: Test_ModelSuite/TestTask_Metadata/Nil_metadata (0.00s)


Expected :slices.Map(nil)
Actual   :slices.Map{}
<Click to see difference>


=== RUN   Test_ModelSuite/TestTask_ResetValidateUpdate
    task_test.go:319: One unfinished task, two logchunks
    task_test.go:360:
        	Error Trace:	task_test.go:360
        	Error:      	Received unexpected error:
        	            	could not find name Aborted in &models.Task{tableName:struct {}{}, Base:models.Base{ID:uuid.UUID{0x74, 0x4a, 0x92, 0x98, 0x4f, 0xa0, 0x41, 0xcf, 0xa9, 0x70, 0xb3, 0x42, 0x2a, 0xc9, 0x11, 0x37}, CreatedAt:time.Time{wall:0xbff876b0b69b9958, ext:999595680, loc:(*time.Location)(0x1f0a3c0)}, UpdatedAt:time.Time{wall:0xbff876b0bb04f2a0, ext:1073607295, loc:(*time.Location)(0x1f0a3c0)}}, ExitCode:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, GeneratedLogChunkCount:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, TagsArray:pq.StringArray{"def"}, StartedAt:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, TimeoutSeconds:1, FinishedAt:nulls.Time{NullTime:sql.NullTime{Time:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}, Valid:false}}, Aborted:false, TimedOut:false, TaskConfig:(*models.TaskConfig)(0xc000178000), WebhookURL:nulls.String{NullString:sql.NullString{String:"", Valid:false}}, Metadata:slices.Map{}}
        	            	github.com/gobuffalo/pop.genericUpdate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:92
        	            	github.com/gobuffalo/pop.(*postgresql).Update
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:71
        	            	github.com/gobuffalo/pop.(*Connection).Update.func1.1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:170
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Connection).Update.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:151
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Update
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:150
        	            	github.com/gobuffalo/pop.(*Connection).ValidateAndUpdate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:143
        	            	github.com/bitrise-io/den/server/models.(*Task).ResetValidateUpdate
        	            		/Users/janosseteny/prj/infra/den/server/models/task.go:196
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_ResetValidateUpdate
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:359
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Connection).Update.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:151
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Update
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:150
        	            	github.com/gobuffalo/pop.(*Connection).ValidateAndUpdate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:143
        	            	github.com/bitrise-io/den/server/models.(*Task).ResetValidateUpdate
        	            		/Users/janosseteny/prj/infra/den/server/models/task.go:196
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_ResetValidateUpdate
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:359
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestTask_ResetValidateUpdate
    task_test.go:364: Task state should be reset
    task_test.go:367: Logchunks should be deleted
    task_test.go:373: One finished task, two logchunks
    task_test.go:413: Task cannot be reset because it's already finished
    task_test.go:423: The logchunks should still exist
    task_test.go:429: Two started tasks, two logchunks for each
    task_test.go:502: Task1 reset without errors
    task_test.go:505:
        	Error Trace:	task_test.go:505
        	Error:      	Received unexpected error:
        	            	could not find name Aborted in &models.Task{tableName:struct {}{}, Base:models.Base{ID:uuid.UUID{0xad, 0x2f, 0xfb, 0xf6, 0x56, 0x83, 0x4f, 0x9a, 0xa4, 0x7, 0x58, 0xc0, 0xf2, 0xcf, 0xb9, 0x4f}, CreatedAt:time.Time{wall:0xbff876b0c443d3d0, ext:1154978713, loc:(*time.Location)(0x1f0a3c0)}, UpdatedAt:time.Time{wall:0xbff876b0c5d2f398, ext:1181135314, loc:(*time.Location)(0x1f0a3c0)}}, ExitCode:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, GeneratedLogChunkCount:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, TagsArray:pq.StringArray{"def"}, StartedAt:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, TimeoutSeconds:1, FinishedAt:nulls.Time{NullTime:sql.NullTime{Time:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}, Valid:false}}, Aborted:false, TimedOut:false, TaskConfig:(*models.TaskConfig)(0xc000220000), WebhookURL:nulls.String{NullString:sql.NullString{String:"", Valid:false}}, Metadata:slices.Map{}}
        	            	github.com/gobuffalo/pop.genericUpdate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:92
        	            	github.com/gobuffalo/pop.(*postgresql).Update
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:71
        	            	github.com/gobuffalo/pop.(*Connection).Update.func1.1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:170
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Connection).Update.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:151
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Update
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:150
        	            	github.com/gobuffalo/pop.(*Connection).ValidateAndUpdate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:143
        	            	github.com/bitrise-io/den/server/models.(*Task).ResetValidateUpdate
        	            		/Users/janosseteny/prj/infra/den/server/models/task.go:196
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_ResetValidateUpdate
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:504
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Connection).Update.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:151
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Update
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:150
        	            	github.com/gobuffalo/pop.(*Connection).ValidateAndUpdate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:143
        	            	github.com/bitrise-io/den/server/models.(*Task).ResetValidateUpdate
        	            		/Users/janosseteny/prj/infra/den/server/models/task.go:196
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).TestTask_ResetValidateUpdate
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:504
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/TestTask_ResetValidateUpdate
    task_test.go:511: Only task1's logs are missing, task2's logs should still be there
    task_test.go:520:
        	Error Trace:	task_test.go:520
        	Error:      	Not equal:
        	            	expected: 2
        	            	actual  : 1
        	Test:       	Test_ModelSuite/TestTask_ResetValidateUpdate
    --- FAIL: Test_ModelSuite/TestTask_ResetValidateUpdate (0.21s)


Expected :2
Actual   :1
<Click to see difference>


=== RUN   Test_ModelSuite/TestTask_StringStatus
    --- PASS: Test_ModelSuite/TestTask_StringStatus (0.00s)
=== RUN   Test_ModelSuite/Test_Encrypt_Config
    task_test.go:282:
        	Error Trace:	task_test.go:282
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Encrypt_Config
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:281
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Encrypt_Config
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:281
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/Test_Encrypt_Config
        	Messages:   	Task must be found
    task_test.go:286:
        	Error Trace:	task_test.go:286
        	Error:      	Received unexpected error:
        	            	pq: column task_configs.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Encrypt_Config
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:285
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Encrypt_Config
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:285
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/Test_Encrypt_Config
        	Messages:   	TaskConfig config must be found
    suite.go:63: test panicked: runtime error: slice bounds out of range [:12] with capacity 0
        goroutine 117 [running]:
        runtime/debug.Stack(0xc0000f15b8, 0x182dda0, 0xc0003a01e0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc0002937a0)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x182dda0, 0xc0003a01e0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Encrypt_Config(0xc0003a27e0)
        	/Users/janosseteny/prj/infra/den/server/models/task_test.go:294 +0xc4a
        reflect.Value.call(0xc0003e4300, 0xc000010e18, 0x13, 0x18818a4, 0x4, 0xc000336e30, 0x1, 0x1, 0xc0000644f8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc0003e4300, 0xc000010e18, 0x13, 0xc000064630, 0x1, 0x1, 0xfeddd, 0x110e3cf, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc0002937a0)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc0002937a0, 0xc0003aa870)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ModelSuite/Test_Encrypt_Config (0.01s)

=== RUN   Test_ModelSuite/Test_Task_Create
    task_test.go:40:
        	Error Trace:	task_test.go:40
        	Error:      	Received unexpected error:
        	            	TagsArray: tags array can not be empty.
        	Test:       	Test_ModelSuite/Test_Task_Create
    suite.go:63: test panicked: runtime error: invalid memory address or nil pointer dereference
        goroutine 118 [running]:
        runtime/debug.Stack(0xc0000f1008, 0x17b2640, 0x1ef5e00)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc000293d40)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x17b2640, 0x1ef5e00)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Task_Create(0xc0003a27e0)
        	/Users/janosseteny/prj/infra/den/server/models/task_test.go:41 +0x146
        reflect.Value.call(0xc0003e4300, 0xc000010e30, 0x13, 0x18818a4, 0x4, 0xc000336e30, 0x1, 0x1, 0xc0000644f8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc0003e4300, 0xc000010e30, 0x13, 0xc000064630, 0x1, 0x1, 0xfeddd, 0x110e3cf, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc000293d40)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc000293d40, 0xc0003aa900)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ModelSuite/Test_Task_Create (0.00s)

=== RUN   Test_ModelSuite/Test_Task_Delete
    task_test.go:248:
        	Error Trace:	task_test.go:248
        	Error:      	Received unexpected error:
        	            	pq: deadlock detected
        	            	github.com/gobuffalo/pop.genericExec
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:110
        	            	github.com/gobuffalo/pop.genericDestroy
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:99
        	            	github.com/gobuffalo/pop.(*postgresql).Destroy
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:75
        	            	github.com/gobuffalo/pop.(*Connection).Destroy.func1.1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:192
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Connection).Destroy.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:186
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Destroy
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:185
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Task_Delete
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:247
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.genericDestroy
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:101
        	            	github.com/gobuffalo/pop.(*postgresql).Destroy
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:75
        	            	github.com/gobuffalo/pop.(*Connection).Destroy.func1.1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:192
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Connection).Destroy.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:186
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Destroy
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:185
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Task_Delete
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:247
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Connection).Destroy.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:186
        	            	github.com/gobuffalo/pop.(*Model).iterate
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183
        	            	github.com/gobuffalo/pop.(*Connection).Destroy
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:185
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Task_Delete
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:247
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/Test_Task_Delete
        	Messages:   	Task must be destroyed without any errors
    --- FAIL: Test_ModelSuite/Test_Task_Delete (1.01s)

=== RUN   Test_ModelSuite/Test_Task_Fetch
    task_test.go:213:
        	Error Trace:	task_test.go:213
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Task_Fetch
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:212
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Task_Fetch
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:212
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/Test_Task_Fetch
        	Messages:   	Task must be fetched without any errors
    task_test.go:214:
        	Error Trace:	task_test.go:214
        	Error:      	Not equal:
        	            	expected: uuid.UUID{0xae, 0x7d, 0xa9, 0xd5, 0xb7, 0xd8, 0x47, 0x78, 0xab, 0xbf, 0x8b, 0xf4, 0x39, 0xf2, 0x0, 0x94}
        	            	actual  : uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,3 @@
        	            	 (uuid.UUID) (len=16) {
        	            	- 00000000  ae 7d a9 d5 b7 d8 47 78  ab bf 8b f4 39 f2 00 94  |.}....Gx....9...|
        	            	+ 00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	 }
        	Test:       	Test_ModelSuite/Test_Task_Fetch
        	Messages:   	The selected record must be fetched
    task_test.go:215:
        	Error Trace:	task_test.go:215
        	Error:      	Not equal:
        	            	expected: slices.Map{"dedicated_cloud":"true", "free":"false", "machine_type_id":"standard", "stack_id":"osx-xcode-11.6.x-gen2-mmg4-2c-10gb-200gb-atl01-ded001", "validation":"true"}
        	            	actual  : slices.Map(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,8 +1,2 @@
        	            	-(slices.Map) (len=5) {
        	            	- (string) (len=15) "dedicated_cloud": (string) (len=4) "true",
        	            	- (string) (len=4) "free": (string) (len=5) "false",
        	            	- (string) (len=15) "machine_type_id": (string) (len=8) "standard",
        	            	- (string) (len=8) "stack_id": (string) (len=53) "osx-xcode-11.6.x-gen2-mmg4-2c-10gb-200gb-atl01-ded001",
        	            	- (string) (len=10) "validation": (string) (len=4) "true"
        	            	-}
        	            	+(slices.Map) <nil>

        	Test:       	Test_ModelSuite/Test_Task_Fetch
        	Messages:   	The selected record metadata field must be fetched
    task_test.go:216:
        	Error Trace:	task_test.go:216
        	Error:      	Not equal:
        	            	expected: models.TaskConfig(models.TaskConfig{Base:models.Base{ID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, CreatedAt:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}}, TaskID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Config:"", EncryptedConfig:"", ConfigType:"", Task:models.Task{tableName:struct {}{}, Base:models.Base{ID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, CreatedAt:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}}, ExitCode:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, GeneratedLogChunkCount:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, TagsArray:pq.StringArray(nil), StartedAt:nulls.Int64{NullInt64:sql.NullInt64{Int64:0, Valid:false}}, TimeoutSeconds:0, FinishedAt:nulls.Time{NullTime:sql.NullTime{Time:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}, Valid:false}}, Aborted:false, TimedOut:false, TaskConfig:(*models.TaskConfig)(nil), WebhookURL:nulls.String{NullString:sql.NullString{String:"", Valid:false}}, Metadata:slices.Map(nil)}})
        	            	actual  : *models.TaskConfig((*models.TaskConfig)(nil))

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,83 +1,2 @@
        	            	-(models.TaskConfig) {
        	            	- Base: (models.Base) {
        	            	-  ID: (uuid.UUID) (len=16) {
        	            	-   00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	-  },
        	            	-  CreatedAt: (time.Time) {
        	            	-   wall: (uint64) 0,
        	            	-   ext: (int64) 0,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  UpdatedAt: (time.Time) {
        	            	-   wall: (uint64) 0,
        	            	-   ext: (int64) 0,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  }
        	            	- },
        	            	- TaskID: (uuid.UUID) (len=16) {
        	            	-  00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	- },
        	            	- Config: (string) "",
        	            	- EncryptedConfig: (string) "",
        	            	- ConfigType: (string) "",
        	            	- Task: (models.Task) {
        	            	-  tableName: (struct {}) {
        	            	-  },
        	            	-  Base: (models.Base) {
        	            	-   ID: (uuid.UUID) (len=16) {
        	            	-    00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	-   },
        	            	-   CreatedAt: (time.Time) {
        	            	-    wall: (uint64) 0,
        	            	-    ext: (int64) 0,
        	            	-    loc: (*time.Location)(<nil>)
        	            	-   },
        	            	-   UpdatedAt: (time.Time) {
        	            	-    wall: (uint64) 0,
        	            	-    ext: (int64) 0,
        	            	-    loc: (*time.Location)(<nil>)
        	            	-   }
        	            	-  },
        	            	-  ExitCode: (nulls.Int64) {
        	            	-   NullInt64: (sql.NullInt64) {
        	            	-    Int64: (int64) 0,
        	            	-    Valid: (bool) false
        	            	-   }
        	            	-  },
        	            	-  GeneratedLogChunkCount: (nulls.Int64) {
        	            	-   NullInt64: (sql.NullInt64) {
        	            	-    Int64: (int64) 0,
        	            	-    Valid: (bool) false
        	            	-   }
        	            	-  },
        	            	-  TagsArray: (pq.StringArray) <nil>,
        	            	-  StartedAt: (nulls.Int64) {
        	            	-   NullInt64: (sql.NullInt64) {
        	            	-    Int64: (int64) 0,
        	            	-    Valid: (bool) false
        	            	-   }
        	            	-  },
        	            	-  TimeoutSeconds: (int64) 0,
        	            	-  FinishedAt: (nulls.Time) {
        	            	-   NullTime: (sql.NullTime) {
        	            	-    Time: (time.Time) {
        	            	-     wall: (uint64) 0,
        	            	-     ext: (int64) 0,
        	            	-     loc: (*time.Location)(<nil>)
        	            	-    },
        	            	-    Valid: (bool) false
        	            	-   }
        	            	-  },
        	            	-  Aborted: (bool) false,
        	            	-  TimedOut: (bool) false,
        	            	-  TaskConfig: (*models.TaskConfig)(<nil>),
        	            	-  WebhookURL: (nulls.String) {
        	            	-   NullString: (sql.NullString) {
        	            	-    String: (string) "",
        	            	-    Valid: (bool) false
        	            	-   }
        	            	-  },
        	            	-  Metadata: (slices.Map) <nil>
        	            	- }
        	            	-}
        	            	+(*models.TaskConfig)(<nil>)

        	Test:       	Test_ModelSuite/Test_Task_Fetch
        	Messages:   	Task config must not be loaded
    task_test.go:220:
        	Error Trace:	task_test.go:220
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Task_Fetch
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:219
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Task_Fetch
        	            		/Users/janosseteny/prj/infra/den/server/models/task_test.go:219
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ModelSuite/Test_Task_Fetch
        	Messages:   	Task must be fetched without any errors
    task_test.go:221:
        	Error Trace:	task_test.go:221
        	Error:      	Not equal:
        	            	expected: uuid.UUID{0xae, 0x7d, 0xa9, 0xd5, 0xb7, 0xd8, 0x47, 0x78, 0xab, 0xbf, 0x8b, 0xf4, 0x39, 0xf2, 0x0, 0x94}
        	            	actual  : uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,3 @@
        	            	 (uuid.UUID) (len=16) {
        	            	- 00000000  ae 7d a9 d5 b7 d8 47 78  ab bf 8b f4 39 f2 00 94  |.}....Gx....9...|
        	            	+ 00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	 }
        	Test:       	Test_ModelSuite/Test_Task_Fetch
        	Messages:   	The selected task must be fetched
    task_test.go:222:
        	Error Trace:	task_test.go:222
        	Error:      	Not equal:
        	            	expected: slices.Map{"dedicated_cloud":"true", "free":"false", "machine_type_id":"standard", "stack_id":"osx-xcode-11.6.x-gen2-mmg4-2c-10gb-200gb-atl01-ded001", "validation":"true"}
        	            	actual  : slices.Map(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,8 +1,2 @@
        	            	-(slices.Map) (len=5) {
        	            	- (string) (len=15) "dedicated_cloud": (string) (len=4) "true",
        	            	- (string) (len=4) "free": (string) (len=5) "false",
        	            	- (string) (len=15) "machine_type_id": (string) (len=8) "standard",
        	            	- (string) (len=8) "stack_id": (string) (len=53) "osx-xcode-11.6.x-gen2-mmg4-2c-10gb-200gb-atl01-ded001",
        	            	- (string) (len=10) "validation": (string) (len=4) "true"
        	            	-}
        	            	+(slices.Map) <nil>

        	Test:       	Test_ModelSuite/Test_Task_Fetch
        	Messages:   	The selected record metadata field must be fetched
    suite.go:63: test panicked: runtime error: invalid memory address or nil pointer dereference
        goroutine 120 [running]:
        runtime/debug.Stack(0xc000519548, 0x17b2640, 0x1ef5e00)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc0000fa900)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x17b2640, 0x1ef5e00)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/models_test.(*ModelSuite).Test_Task_Fetch(0xc0003a27e0)
        	/Users/janosseteny/prj/infra/den/server/models/task_test.go:224 +0xb18
        reflect.Value.call(0xc0003e4300, 0xc000010e60, 0x13, 0x18818a4, 0x4, 0xc000336e30, 0x1, 0x1, 0xc0000644f8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc0003e4300, 0xc000010e60, 0x13, 0xc000064630, 0x1, 0x1, 0xfeddd, 0x110e3cf, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc0000fa900)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc0000fa900, 0xc0003aaa20)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ModelSuite/Test_Task_Fetch (0.01s)


Expected :slices.Map{"dedicated_cloud":"true", "free":"false", "machine_type_id":"standard", "stack_id":"osx-xcode-11.6.x-gen2-mmg4-2c-10gb-200gb-atl01-ded001", "validation":"true"}
Actual   :slices.Map(nil)
<Click to see difference>



FAIL
FAIL	github.com/bitrise-io/den/server/models	4.139s
time="2021-01-15T10:41:22.684122+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   Test_constMetricCollector_fetchTasksFinishedLast5MByTagsAndStatus
--- PASS: Test_constMetricCollector_fetchTasksFinishedLast5MByTagsAndStatus (0.07s)
=== RUN   Test_constMetricCollector_fetchTasksFinishedLast5MByTagsAndStatus/Couple_of_builds_for_a_control_test
WARN: pg: 2021/01/15 10:41:22 Task.TaskConfig has unknown tag option: "rel"
WARN: pg: 2021/01/15 10:41:22 TaskConfig.Task has unknown tag option: "rel"
    --- PASS: Test_constMetricCollector_fetchTasksFinishedLast5MByTagsAndStatus/Couple_of_builds_for_a_control_test (0.04s)
=== RUN   Test_constMetricCollector_fetchTasksFinishedLast5MByTagsAndStatus/Build_with_both_aborted_and_timeout_set_to_true_and_the_fauly_task_should_not_be_present_in_the_stats
    --- PASS: Test_constMetricCollector_fetchTasksFinishedLast5MByTagsAndStatus/Build_with_both_aborted_and_timeout_set_to_true_and_the_fauly_task_should_not_be_present_in_the_stats (0.01s)
=== RUN   Test_constMetricCollector_fetchSucceededTaskCount5M
--- PASS: Test_constMetricCollector_fetchSucceededTaskCount5M (0.05s)
=== RUN   Test_constMetricCollector_fetchSucceededTaskCount5M/Only_succcessed_builds
    --- PASS: Test_constMetricCollector_fetchSucceededTaskCount5M/Only_succcessed_builds (0.02s)
=== RUN   Test_constMetricCollector_fetchSucceededTaskCount5M/Successed_and_aborted_builds
    --- PASS: Test_constMetricCollector_fetchSucceededTaskCount5M/Successed_and_aborted_builds (0.01s)
=== RUN   TestAppCollector
--- FAIL: TestAppCollector (0.13s)
=== RUN   TestAppCollector/SendTaskFinished_sends_metadata
time="2021-01-15T10:41:22.809232+01:00" level=error application=bitrise-den component=test environment=development error="sql: Scan error on column index 3, name \"dedicated_cloud\": sql/driver: couldn't convert \"\" into type bool" stacktrace="sql: Scan error on column index 3, name \"dedicated_cloud\": sql/driver: couldn't convert \"\" into type bool\ngithub.com/gobuffalo/pop.(*Connection).Transaction.func1\n\t/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:131\ngithub.com/gobuffalo/pop.(*postgresql).Lock\n\t/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:170\ngithub.com/gobuffalo/pop.(*Connection).Transaction\n\t/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:118\ngithub.com/bitrise-io/den/server/metrics.(*AppMetricCollector).fetchAndIterateTheResultSet\n\t/Users/janosseteny/prj/infra/den/server/metrics/app_collector.go:126\ngithub.com/bitrise-io/den/server/metrics.(*AppMetricCollector).fetchTasksFinishedLast5MByTagsAndStatus\n\t/Users/janosseteny/prj/infra/den/server/metrics/app_collector.go:410\ngithub.com/bitrise-io/den/server/metrics.AppMetricCollector.SendTaskFinished\n\t/Users/janosseteny/prj/infra/den/server/metrics/app_collector.go:78\ngithub.com/bitrise-io/den/server/metrics.TestAppCollector.func1\n\t/Users/janosseteny/prj/infra/den/server/metrics/app_collector_test.go:293\ntesting.tRunner\n\t/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050\nruntime.goexit\n\t/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373" version=1.16.0
    app_collector_test.go:294: missing call(s) to *mocks.MockDBCollector.TasksFinished(is anything, is anything, is anything, is equal to {standard false osx-xcode-11.6.x-gen2-mmg4-12c-60gb-200gb-atl01-ded001 true false website}) /Users/janosseteny/prj/infra/den/server/metrics/app_collector_test.go:291
    app_collector_test.go:294: aborting test due to missing call(s)
    --- FAIL: TestAppCollector/SendTaskFinished_sends_metadata (0.03s)

=== RUN   TestAppCollector/SendTaskQueue_sends_task_groups_based_on_metadata_grouping
    --- PASS: TestAppCollector/SendTaskQueue_sends_task_groups_based_on_metadata_grouping (0.02s)
=== RUN   TestAppCollector/SendTaskRunning_sends_tasks_grouped_by_metadata
    --- PASS: TestAppCollector/SendTaskRunning_sends_tasks_grouped_by_metadata (0.01s)
=== RUN   TestAppCollector/SendAgentStatus_sends_busy_tasks_grouped_by_the_metadata
    app_collector_test.go:507:
        	Error Trace:	app_collector_test.go:507
        	Error:      	Not equal:
        	            	expected: []metrics.result{metrics.result{tags:[]string{"dummy"}, count:1, metadata:models.Metadata{MachineTypeID:"standard", IsDedicatedCloud:false, StackID:"android", IsFree:true, IsValidation:false, TriggeredBy:"website"}}, metrics.result{tags:[]string{"dummy"}, count:2, metadata:models.Metadata{MachineTypeID:"standard", IsDedicatedCloud:false, StackID:"osx-xcode-11.6.x-gen2-mmg4-12c-60gb-200gb-atl01-ded001", IsFree:true, IsValidation:false, TriggeredBy:"website"}}}
        	            	actual  : []metrics.result{}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,30 +1,2 @@
        	            	-([]metrics.result) (len=2) {
        	            	- (metrics.result) {
        	            	-  tags: ([]string) (len=1) {
        	            	-   (string) (len=5) "dummy"
        	            	-  },
        	            	-  count: (float64) 1,
        	            	-  metadata: (models.Metadata) {
        	            	-   MachineTypeID: (string) (len=8) "standard",
        	            	-   IsDedicatedCloud: (bool) false,
        	            	-   StackID: (string) (len=7) "android",
        	            	-   IsFree: (bool) true,
        	            	-   IsValidation: (bool) false,
        	            	-   TriggeredBy: (string) (len=7) "website"
        	            	-  }
        	            	- },
        	            	- (metrics.result) {
        	            	-  tags: ([]string) (len=1) {
        	            	-   (string) (len=5) "dummy"
        	            	-  },
        	            	-  count: (float64) 2,
        	            	-  metadata: (models.Metadata) {
        	            	-   MachineTypeID: (string) (len=8) "standard",
        	            	-   IsDedicatedCloud: (bool) false,
        	            	-   StackID: (string) (len=54) "osx-xcode-11.6.x-gen2-mmg4-12c-60gb-200gb-atl01-ded001",
        	            	-   IsFree: (bool) true,
        	            	-   IsValidation: (bool) false,
        	            	-   TriggeredBy: (string) (len=7) "website"
        	            	-  }
        	            	- }
        	            	+([]metrics.result) {
        	            	 }
        	Test:       	TestAppCollector/SendAgentStatus_sends_busy_tasks_grouped_by_the_metadata
        	Messages:   	Expected results should match the function output
    app_collector_test.go:508: missing call(s) to *mocks.MockDBCollector.AgentsBusy(is anything, is anything, is anything) /Users/janosseteny/prj/infra/den/server/metrics/app_collector_test.go:498
    app_collector_test.go:508: aborting test due to missing call(s)
    --- FAIL: TestAppCollector/SendAgentStatus_sends_busy_tasks_grouped_by_the_metadata (0.07s)


Expected :[]metrics.result{metrics.result{tags:[]string{"dummy"}, count:1, metadata:models.Metadata{MachineTypeID:"standard", IsDedicatedCloud:false, StackID:"android", IsFree:true, IsValidation:false, TriggeredBy:"website"}}, metrics.result{tags:[]string{"dummy"}, count:2, metadata:models.Metadata{MachineTypeID:"standard", IsDedicatedCloud:false, StackID:"osx-xcode-11.6.x-gen2-mmg4-12c-60gb-200gb-atl01-ded001", IsFree:true, IsValidation:false, TriggeredBy:"website"}}}
Actual   :[]metrics.result{}
<Click to see difference>



=== RUN   TestMetrics
--- PASS: TestMetrics (0.00s)
=== RUN   TestMetrics/TestGaugeBasedMetadataMetrics
    --- PASS: TestMetrics/TestGaugeBasedMetadataMetrics (0.00s)
=== RUN   TestMetrics/TestGetMetaTags
    --- PASS: TestMetrics/TestGetMetaTags (0.00s)
=== RUN   TestMetrics/TestMetricDefaultCalls
    --- PASS: TestMetrics/TestMetricDefaultCalls (0.00s)
=== RUN   TestMetrics/TestTagParsing
    --- PASS: TestMetrics/TestTagParsing (0.00s)
=== RUN   TestMetrics/TestTasksFinished
    --- PASS: TestMetrics/TestTasksFinished (0.00s)
=== RUN   TestMetrics/TestTransformTags
    --- PASS: TestMetrics/TestTransformTags (0.00s)
=== RUN   TestMetrics/TestTransformTags/tags1
        --- PASS: TestMetrics/TestTransformTags/tags1 (0.00s)
=== RUN   TestMetrics/TestTransformTags/tags2
        --- PASS: TestMetrics/TestTransformTags/tags2 (0.00s)
=== RUN   TestMetrics/TestTransformTags/tags3
        --- PASS: TestMetrics/TestTransformTags/tags3 (0.00s)
=== RUN   Test_RedisCollector
--- PASS: Test_RedisCollector (0.03s)
=== RUN   Test_RedisCollector/Test_Collector
    redis_collector_test.go:54: Testing JobQueueItemsCount
    redis_collector_test.go:68: Testing JobQueueLatencySeconds
    redis_collector_test.go:54: Testing JobQueueItemsCount
    redis_collector_test.go:68: Testing JobQueueLatencySeconds
    redis_collector_test.go:54: Testing JobQueueItemsCount
    redis_collector_test.go:68: Testing JobQueueLatencySeconds
    redis_collector_test.go:54: Testing JobQueueItemsCount
    redis_collector_test.go:68: Testing JobQueueLatencySeconds
    redis_collector_test.go:54: Testing JobQueueItemsCount
    redis_collector_test.go:68: Testing JobQueueLatencySeconds
    redis_collector_test.go:73: Testing ScheduledJobsTotal
    redis_collector_test.go:82: Testing RetryJobsTotal
    redis_collector_test.go:91: Testing DeadJobsTotal
    redis_collector_test.go:105: Testing PoolProcessesIdleTotal
    redis_collector_test.go:110: Testing PoolProcessesTotal
    --- PASS: Test_RedisCollector/Test_Collector (0.02s)
FAIL
FAIL	github.com/bitrise-io/den/server/metrics	2.863s
?   	github.com/bitrise-io/den/cli	[no test files]
?   	github.com/bitrise-io/den/cli/configs	[no test files]
?   	github.com/bitrise-io/den/instrumentation/tracer	[no test files]
?   	github.com/bitrise-io/den/logger	[no test files]
?   	github.com/bitrise-io/den/metadata	[no test files]
?   	github.com/bitrise-io/den/server	[no test files]
time="2021-01-15T10:41:22.958388+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   Test_processWebhookData
--- PASS: Test_processWebhookData (0.00s)
=== RUN   Test_processWebhookData/Test_normal_behavior
    --- PASS: Test_processWebhookData/Test_normal_behavior (0.00s)
=== RUN   Test_processWebhookData/Test_no_task_id_provided
    --- PASS: Test_processWebhookData/Test_no_task_id_provided (0.00s)
=== RUN   Test_processWebhookData/Test_webhook_type_is_empty
    --- PASS: Test_processWebhookData/Test_webhook_type_is_empty (0.00s)
=== RUN   Test_processWebhookData/Test_no_webhook_url_provided
    --- PASS: Test_processWebhookData/Test_no_webhook_url_provided (0.00s)
=== RUN   Test_processWebhookData/Test_webhook_url_is_empty
    --- PASS: Test_processWebhookData/Test_webhook_url_is_empty (0.00s)
=== RUN   Test_processWebhookData/Test_JSON_error
    --- PASS: Test_processWebhookData/Test_JSON_error (0.00s)
=== RUN   Test_WorkerSuite
--- FAIL: Test_WorkerSuite (1.62s)
=== RUN   Test_WorkerSuite/TestContext_CheckDeadAgents
    expirator_jobs_test.go:195: Create dead agent
    expirator_jobs_test.go:207: Create alive agent
    expirator_jobs_test.go:218: Create taken task
WARN: pg: 2021/01/15 10:41:23 Task.TaskConfig has unknown tag option: "rel"
WARN: pg: 2021/01/15 10:41:23 TaskConfig.Task has unknown tag option: "rel"
    expirator_jobs_test.go:233: Create tasklock
    expirator_jobs_test.go:244: Should find the agent-task connection
    expirator_jobs_test.go:251: Check and purge dead agents
time="2021-01-15T10:41:23.055118+01:00" level=warning msg="Dead agent found" agent_id=b2992b04-13fa-4d8b-bb47-ea42dbffd1ac application=bitrise-den background_job_id=test-job component=worker environment=development tags="[def]" version=1.16.0
    expirator_jobs_test.go:255: Should not find the agent-task connection
    expirator_jobs_test.go:262: The alive agent should not be affected
    expirator_jobs_test.go:266:
        	Error Trace:	expirator_jobs_test.go:266
        	Error:      	Received unexpected error:
        	            	pg: no rows in result set
        	Test:       	Test_WorkerSuite/TestContext_CheckDeadAgents
    expirator_jobs_test.go:270: The task was aborted
    expirator_jobs_test.go:273:
        	Error Trace:	expirator_jobs_test.go:273
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckDeadAgents
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:273
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckDeadAgents
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:273
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CheckDeadAgents
    expirator_jobs_test.go:274:
        	Error Trace:	expirator_jobs_test.go:274
        	Error:      	Should be true
        	Test:       	Test_WorkerSuite/TestContext_CheckDeadAgents
    --- FAIL: Test_WorkerSuite/TestContext_CheckDeadAgents (0.12s)

=== RUN   Test_WorkerSuite/TestContext_CheckTimeouts
    expirator_jobs_test.go:149: One task that should be timed out
    expirator_jobs_test.go:170:
        	Error Trace:	expirator_jobs_test.go:170
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:58
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:58
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:59
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CheckTimeouts
    expirator_jobs_test.go:173:
        	Error Trace:	expirator_jobs_test.go:173
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:173
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:173
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CheckTimeouts
    expirator_jobs_test.go:175: Tasks: []
    expirator_jobs_test.go:149: Two running tasks and the first should be timed out
    expirator_jobs_test.go:170:
        	Error Trace:	expirator_jobs_test.go:170
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:58
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:58
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:59
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CheckTimeouts
    expirator_jobs_test.go:173:
        	Error Trace:	expirator_jobs_test.go:173
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:173
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:173
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CheckTimeouts
    expirator_jobs_test.go:175: Tasks: []
    expirator_jobs_test.go:149: Three tasks, one queued, one running and one should be timed out
    expirator_jobs_test.go:170:
        	Error Trace:	expirator_jobs_test.go:170
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:58
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:58
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:59
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CheckTimeouts
    expirator_jobs_test.go:173:
        	Error Trace:	expirator_jobs_test.go:173
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:173
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:173
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CheckTimeouts
    expirator_jobs_test.go:175: Tasks: []
    expirator_jobs_test.go:149: Three running tasks, all should be timed out
    expirator_jobs_test.go:170:
        	Error Trace:	expirator_jobs_test.go:170
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:58
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:58
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/bitrise-io/den/server/worker.(*JobContext).CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs.go:59
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:170
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CheckTimeouts
    expirator_jobs_test.go:173:
        	Error Trace:	expirator_jobs_test.go:173
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:173
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CheckTimeouts
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:173
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CheckTimeouts
    expirator_jobs_test.go:175: Tasks: []
    --- FAIL: Test_WorkerSuite/TestContext_CheckTimeouts (1.14s)

=== RUN   Test_WorkerSuite/TestContext_CleanUpAgentIntroSecrets
    cleanup_jobs_test.go:420: Create Agent Intro Secrets
    cleanup_jobs_test.go:428: Invoke Agent Intro Secrets cleanup job
    cleanup_jobs_test.go:441:
        	Error Trace:	cleanup_jobs_test.go:441
        	Error:      	Not equal:
        	            	expected: 5
        	            	actual  : 1
        	Test:       	Test_WorkerSuite/TestContext_CleanUpAgentIntroSecrets
        	Messages:   	Only invalidated non-single use intros secrets, expired more than a month ago, must be affected
    --- FAIL: Test_WorkerSuite/TestContext_CleanUpAgentIntroSecrets (0.07s)


Expected :5
Actual   :1
<Click to see difference>


=== RUN   Test_WorkerSuite/TestContext_CleanUpAgents
    cleanup_jobs_test.go:22: Create dead agent - recent
    cleanup_jobs_test.go:36: Create alive agent
    cleanup_jobs_test.go:48: Create dead agent - old
    cleanup_jobs_test.go:62: Create dead agent - old 2
    cleanup_jobs_test.go:76: Cleanup Agents in the DB
    cleanup_jobs_test.go:81: The alive and recently deceased agent should not be affected
    cleanup_jobs_test.go:88: All the remaining records should been seen alive less than a week ago
    --- PASS: Test_WorkerSuite/TestContext_CleanUpAgents (0.03s)
=== RUN   Test_WorkerSuite/TestContext_CleanUpLogChunks
    cleanup_jobs_test.go:182: Create Log Chunks
    cleanup_jobs_test.go:189: Fix create date
    suite.go:63: test panicked: runtime error: index out of range [2] with length 2
        goroutine 47 [running]:
        runtime/debug.Stack(0xc00014b2c0, 0x1931f80, 0xc00041d880)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc0001fc6c0)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x1931f80, 0xc00041d880)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CleanUpLogChunks(0xc000392c30)
        	/Users/janosseteny/prj/infra/den/server/worker/cleanup_jobs_test.go:196 +0xd88
        reflect.Value.call(0xc0003d1080, 0xc000011430, 0x13, 0x198d629, 0x4, 0xc00007de30, 0x1, 0x1, 0xc000589cf8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc0003d1080, 0xc000011430, 0x13, 0xc000589e30, 0x1, 0x1, 0x107d95, 0x1111a8f, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc0001fc6c0)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc0001fc6c0, 0xc0000e5e60)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_WorkerSuite/TestContext_CleanUpLogChunks (0.04s)

=== RUN   Test_WorkerSuite/TestContext_CleanUpPools
    cleanup_jobs_test.go:127: Create pools
    cleanup_jobs_test.go:135: Invoke Pool cleanup job
    cleanup_jobs_test.go:148:
        	Error Trace:	cleanup_jobs_test.go:148
        	Error:      	Not equal:
        	            	expected: 1
        	            	actual  : 0
        	Test:       	Test_WorkerSuite/TestContext_CleanUpPools
        	Messages:   	The alive and recently deceased pools should not be affected
    --- FAIL: Test_WorkerSuite/TestContext_CleanUpPools (0.05s)


Expected :1
Actual   :0
<Click to see difference>


=== RUN   Test_WorkerSuite/TestContext_CleanUpSingleUseAgentIntroSecrets
    cleanup_jobs_test.go:337: Create Agent Intro Secrets
    cleanup_jobs_test.go:345: Invoke Single use Agent Intro Secrets cleanup job
    cleanup_jobs_test.go:358:
        	Error Trace:	cleanup_jobs_test.go:358
        	Error:      	Not equal:
        	            	expected: 3
        	            	actual  : 1
        	Test:       	Test_WorkerSuite/TestContext_CleanUpSingleUseAgentIntroSecrets
        	Messages:   	Only single use intros secrets have been invalidated since 2021-01-13 09:41:24.425385 +0000 UTC must be affected
    --- FAIL: Test_WorkerSuite/TestContext_CleanUpSingleUseAgentIntroSecrets (0.06s)


Expected :3
Actual   :1
<Click to see difference>


=== RUN   Test_WorkerSuite/TestContext_CleanUpTasks
    cleanup_jobs_test.go:266: Create Tasks
    cleanup_jobs_test.go:273: Invoke Tasks cleanup job
    cleanup_jobs_test.go:280:
        	Error Trace:	cleanup_jobs_test.go:280
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CleanUpTasks
        	            		/Users/janosseteny/prj/infra/den/server/worker/cleanup_jobs_test.go:279
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_CleanUpTasks
        	            		/Users/janosseteny/prj/infra/den/server/worker/cleanup_jobs_test.go:279
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_CleanUpTasks
    cleanup_jobs_test.go:286:
        	Error Trace:	cleanup_jobs_test.go:286
        	Error:      	Not equal:
        	            	expected: 2
        	            	actual  : 0
        	Test:       	Test_WorkerSuite/TestContext_CleanUpTasks
        	Messages:   	The records younger than 2021-01-08 09:41:24.477967 +0000 UTC must not be affected
    --- FAIL: Test_WorkerSuite/TestContext_CleanUpTasks (0.02s)


Expected :2
Actual   :0
<Click to see difference>


=== RUN   Test_WorkerSuite/TestContext_ExpireTasks
    expirator_jobs_test.go:326: Create Tasks
    expirator_jobs_test.go:333: Fix create date
    expirator_jobs_test.go:336:
        	Error Trace:	expirator_jobs_test.go:336
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_ExpireTasks
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:335
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_ExpireTasks
        	            		/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:335
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_WorkerSuite/TestContext_ExpireTasks
    suite.go:63: test panicked: runtime error: index out of range [2] with length 0
        goroutine 138 [running]:
        runtime/debug.Stack(0xc0001470c0, 0x1931f80, 0xc00022d800)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc00020ec60)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x1931f80, 0xc00022d800)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/worker_test.(*WorkerSuite).TestContext_ExpireTasks(0xc000392c30)
        	/Users/janosseteny/prj/infra/den/server/worker/expirator_jobs_test.go:340 +0x10f8
        reflect.Value.call(0xc0003d1080, 0xc000011490, 0x13, 0x198d629, 0x4, 0xc000078e30, 0x1, 0x1, 0xc00058ccf8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc0003d1080, 0xc000011490, 0x13, 0xc00058ce30, 0x1, 0x1, 0x107d95, 0x1111a8f, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc00020ec60)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc00020ec60, 0xc0003e6120)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_WorkerSuite/TestContext_ExpireTasks (0.03s)

=== RUN   Test_WorkerSuite/TestContext_InvalidateExpiredIntroSecrets
    expirator_jobs_test.go:382: Create Agent Intro Secrets
    expirator_jobs_test.go:455: Invoke Expired Agent Intro Secret Invalidator job
    expirator_jobs_test.go:459: Checking if expired Agent Intro Secrets has been invalidated
    --- PASS: Test_WorkerSuite/TestContext_InvalidateExpiredIntroSecrets (0.06s)
=== RUN   Test_WorkerSuite/TestWebhookContext_ProcessWebhook
    --- PASS: Test_WorkerSuite/TestWebhookContext_ProcessWebhook (0.00s)
=== RUN   Test_WorkerSuite/TestWebhookContext_ProcessWebhook/Test_normal_behavior
        --- PASS: Test_WorkerSuite/TestWebhookContext_ProcessWebhook/Test_normal_behavior (0.00s)
=== RUN   Test_WorkerSuite/Test_PeriodicallyDeleteDeadJobs
    worker_test.go:84: Seting up MiniRedis
    worker_test.go:96: Insert 4 dead jobs to MiniRedis
    worker_test.go:109: Removing dead jobs
    worker_test.go:113: Check if dead jobs are deleted
    --- PASS: Test_WorkerSuite/Test_PeriodicallyDeleteDeadJobs (0.00s)

FAIL
FAIL	github.com/bitrise-io/den/server/worker	4.482s
time="2021-01-15T10:41:23.254617+01:00" level=info msg="PopDB connection initialized" application=bitrise-den component=db environment=development version=1.16.0
=== RUN   Test_ActionSuite
time="2021-01-15T10:41:24.127783+01:00" level=info msg="Agent Intro Secret created: 8c31bc0a-5099-45d6-bc49-3cf8cc18eaea" application=bitrise-den component=server environment=development version=1.16.0
time="2021-01-15T10:41:24.12783+01:00" level=info msg="Agent Intro Secret registered" application=bitrise-den component=server environment=development version=1.16.0
time="2021-01-15T10:41:24.127896+01:00" level=info msg="Setting Swagger endpoint to /swagger/index.html" application=bitrise-den component=server environment=development version=1.16.0
--- FAIL: Test_ActionSuite (4.47s)
=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List
{"time":"2021-01-15T10:41:24.176073+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":7098439,"latency_human":"7.098439ms","bytes_in":0,"bytes_out":916}
    --- PASS: Test_ActionSuite/Test_AgentIntroSecretsResource_List (0.07s)
=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Created_At
{"time":"2021-01-15T10:41:24.251176+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?created_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":7606824,"latency_human":"7.606824ms","bytes_in":0,"bytes_out":916}
    agent_intro_secrets_test.go:122:
        	Error Trace:	agent_intro_secrets_test.go:122
        	Error:      	Not equal:
        	            	expected: models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0x1, 0x8a, 0x24, 0xb4, 0x2b, 0xa9, 0x4d, 0xcb, 0x85, 0xb6, 0x6b, 0x31, 0xd2, 0x18, 0x27, 0xbc}, CreatedAt:time.Time{wall:0xebaacf8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0xebab0e0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0xe59d018, ext:63743539284, loc:(*time.Location)(nil)}, Secret:"Secret2", SingleUse:false, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x26, 0x71, 0x53, 0xba, 0xbc, 0x40, 0x49, 0xad, 0xaa, 0xc5, 0x52, 0x64, 0x50, 0x61, 0xd2, 0xf6}, CreatedAt:time.Time{wall:0xe5db430, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0xe5db818, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0xe59d018, ext:63743539284, loc:(*time.Location)(nil)}, Secret:"Secret1", SingleUse:true, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x7f, 0xff, 0x61, 0x75, 0x34, 0x7, 0x4c, 0x44, 0x82, 0x45, 0xf2, 0x82, 0x86, 0x7f, 0x7, 0xf5}, CreatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0xfbec300, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"alive"}}}
        	            	actual  : models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0x26, 0x71, 0x53, 0xba, 0xbc, 0x40, 0x49, 0xad, 0xaa, 0xc5, 0x52, 0x64, 0x50, 0x61, 0xd2, 0xf6}, CreatedAt:time.Time{wall:0xe5db430, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0xe5db818, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0xe59d018, ext:63743539284, loc:(*time.Location)(nil)}, Secret:"Secret1", SingleUse:true, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x7f, 0xff, 0x61, 0x75, 0x34, 0x7, 0x4c, 0x44, 0x82, 0x45, 0xf2, 0x82, 0x86, 0x7f, 0x7, 0xf5}, CreatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0xfbec300, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"alive"}}}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,34 +1,2 @@
        	            	-(models.AgentIntroSecrets) (len=3) {
        	            	- (models.AgentIntroSecret) {
        	            	-  ID: (uuid.UUID) (len=16) {
        	            	-   00000000  01 8a 24 b4 2b a9 4d cb  85 b6 6b 31 d2 18 27 bc  |..$.+.M...k1..'.|
        	            	-  },
        	            	-  CreatedAt: (time.Time) {
        	            	-   wall: (uint64) 247115000,
        	            	-   ext: (int64) 63746304084,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  UpdatedAt: (time.Time) {
        	            	-   wall: (uint64) 247116000,
        	            	-   ext: (int64) 63746304084,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  ExpiresAt: (time.Time) {
        	            	-   wall: (uint64) 240767000,
        	            	-   ext: (int64) 63743539284,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  Secret: (string) (len=7) "Secret2",
        	            	-  SingleUse: (bool) false,
        	            	-  Invalidated: (bool) true,
        	            	-  PoolID: (nulls.UUID) {
        	            	-   UUID: (uuid.UUID) (len=16) {
        	            	-    00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	-   },
        	            	-   Valid: (bool) false
        	            	-  },
        	            	-  TagsArray: (pq.StringArray) (len=1) {
        	            	-   (string) (len=3) "tag"
        	            	-  }
        	            	- },
        	            	+(models.AgentIntroSecrets) (len=2) {
        	            	  (models.AgentIntroSecret) {
        	Test:       	Test_ActionSuite/Test_AgentIntroSecretsResource_List_Created_At
        	Messages:   	The created_at query parameter must limit the result set to agent intro secrets been created after the specified date
    --- FAIL: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Created_At (0.07s)


Expected :models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0x1, 0x8a, 0x24, 0xb4, 0x2b, 0xa9, 0x4d, 0xcb, 0x85, 0xb6, 0x6b, 0x31, 0xd2, 0x18, 0x27, 0xbc}, CreatedAt:time.Time{wall:0xebaacf8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0xebab0e0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0xe59d018, ext:63743539284, loc:(*time.Location)(nil)}, Secret:"Secret2", SingleUse:false, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x26, 0x71, 0x53, 0xba, 0xbc, 0x40, 0x49, 0xad, 0xaa, 0xc5, 0x52, 0x64, 0x50, 0x61, 0xd2, 0xf6}, CreatedAt:time.Time{wall:0xe5db430, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0xe5db818, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0xe59d018, ext:63743539284, loc:(*time.Location)(nil)},
Actual   :models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0x26, 0x71, 0x53, 0xba, 0xbc, 0x40, 0x49, 0xad, 0xaa, 0xc5, 0x52, 0x64, 0x50, 0x61, 0xd2, 0xf6}, CreatedAt:time.Time{wall:0xe5db430, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0xe5db818, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0xe59d018, ext:63743539284, loc:(*time.Location)(nil)}, Secret:"Secret1", SingleUse:true, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x7f, 0xff, 0x61, 0x75, 0x34, 0x7, 0x4c, 0x44, 0x82, 0x45, 0xf2, 0x82, 0x86, 0x7f, 0x7, 0xf5}, CreatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0xfbec300, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super
<Click to see difference>


=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Date_Patterns
{"time":"2021-01-15T10:41:24.298357+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?created_at=2016-01-01T15%3A04%3A05%2B07%3A00&updated_at=2016-01-01T15%3A04%3A05%2B07%3A00","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":8420566,"latency_human":"8.420566ms","bytes_in":0,"bytes_out":557}
{"time":"2021-01-15T10:41:24.307626+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?created_at=2016-01-01T15%3A04%3A05&updated_at=2016-01-01T15%3A04%3A05","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":8750257,"latency_human":"8.750257ms","bytes_in":0,"bytes_out":557}
{"time":"2021-01-15T10:41:24.316512+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?created_at=2016-01-01T15%3A04&updated_at=2016-01-01T15%3A04","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":8270761,"latency_human":"8.270761ms","bytes_in":0,"bytes_out":557}
{"time":"2021-01-15T10:41:24.324876+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?created_at=2016-01-01T15&updated_at=2016-01-01T15","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":7701191,"latency_human":"7.701191ms","bytes_in":0,"bytes_out":557}
{"time":"2021-01-15T10:41:24.340781+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?created_at=2016-01-01&updated_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":15356242,"latency_human":"15.356242ms","bytes_in":0,"bytes_out":190}
    --- PASS: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Date_Patterns (0.09s)
=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Input_Validation
time="2021-01-15T10:41:24.37652+01:00" level=error msg="code=400, message=created_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:24.376542+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?created_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=created_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":70474,"latency_human":"70.474µs","bytes_in":0,"bytes_out":225}
time="2021-01-15T10:41:24.37675+01:00" level=error msg="code=400, message=updated_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:24.376766+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?updated_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=updated_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":42494,"latency_human":"42.494µs","bytes_in":0,"bytes_out":225}
time="2021-01-15T10:41:24.377016+01:00" level=error msg="code=400, message=sort_by must be either created_at or updated_at" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:24.377038+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?sort_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=sort_by must be either created_at or updated_at","latency":46714,"latency_human":"46.714µs","bytes_in":0,"bytes_out":68}
time="2021-01-15T10:41:24.377272+01:00" level=error msg="code=400, message=order_by must be either asc or desc" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:24.37729+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?order_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=order_by must be either asc or desc","latency":38164,"latency_human":"38.164µs","bytes_in":0,"bytes_out":56}
    --- PASS: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Input_Validation (0.04s)
=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Pagination
{"time":"2021-01-15T10:41:24.430603+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?per_page=2&page=3","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2931343,"latency_human":"2.931343ms","bytes_in":0,"bytes_out":187}
    --- PASS: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Pagination (0.05s)
=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Pagination_Defaults
{"time":"2021-01-15T10:41:24.479882+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2431630,"latency_human":"2.43163ms","bytes_in":0,"bytes_out":532}
    --- PASS: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Pagination_Defaults (0.05s)
=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Sorting_Custom
{"time":"2021-01-15T10:41:24.539011+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?sort_by=created_at&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":3149158,"latency_human":"3.149158ms","bytes_in":0,"bytes_out":1296}
{"time":"2021-01-15T10:41:24.542919+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?sort_by=updated_at&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2619740,"latency_human":"2.61974ms","bytes_in":0,"bytes_out":1662}
{"time":"2021-01-15T10:41:24.547549+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?sort_by=created_at&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2971962,"latency_human":"2.971962ms","bytes_in":0,"bytes_out":2025}
    agent_intro_secrets_test.go:472:
        	Error Trace:	agent_intro_secrets_test.go:472
        	Error:      	Not equal:
        	            	expected: models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0xbc, 0xe2, 0x1, 0x68, 0xed, 0x60, 0x4b, 0xaf, 0xb4, 0xec, 0x93, 0xf, 0x2, 0x9d, 0x69, 0x4d}, CreatedAt:time.Time{wall:0x209581c8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x209585b0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret4", SingleUse:false, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x67, 0x5f, 0x5e, 0x65, 0x8f, 0x21, 0x4b, 0x59, 0x9d, 0x47, 0xca, 0x1c, 0x2c, 0x1f, 0x2d, 0xcd}, CreatedAt:time.Time{wall:0x205a9f90, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x205aa378, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret3", SingleUse:true, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xb2, 0xd2, 0x6c, 0xc5, 0x46, 0x6c, 0x41, 0xd6, 0x87, 0x7f, 0x1d, 0xec, 0xc2, 0x5e, 0xc, 0x67}, CreatedAt:time.Time{wall:0x201ebf70, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x201ec358, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xba, 0x98, 0x40, 0x8e, 0x9f, 0xd, 0x4a, 0x3c, 0x9c, 0x31, 0xd4, 0x88, 0x29, 0x30, 0xe1, 0xc}, CreatedAt:time.Time{wall:0x1fd56a00, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x1fd56de8, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret1", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x57, 0xbe, 0x1a, 0x9a, 0xfd, 0xe5, 0x42, 0x40, 0x8a, 0x3f, 0x9c, 0x1d, 0xe3, 0x9c, 0x42, 0x47}, CreatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21334480, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"alive", "busy"}}, models.AgentIntroSecret{ID:uuid.UUID{0x69, 0x8, 0xf, 0x42, 0xf6, 0x10, 0x41, 0x3c, 0x90, 0xe6, 0x38, 0x8d, 0x59, 0x85, 0x40, 0x8c}, CreatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21048b90, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_1", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"default"}}}
        	            	actual  : models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0x67, 0x5f, 0x5e, 0x65, 0x8f, 0x21, 0x4b, 0x59, 0x9d, 0x47, 0xca, 0x1c, 0x2c, 0x1f, 0x2d, 0xcd}, CreatedAt:time.Time{wall:0x205a9f90, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x205aa378, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret3", SingleUse:true, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xb2, 0xd2, 0x6c, 0xc5, 0x46, 0x6c, 0x41, 0xd6, 0x87, 0x7f, 0x1d, 0xec, 0xc2, 0x5e, 0xc, 0x67}, CreatedAt:time.Time{wall:0x201ebf70, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x201ec358, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xba, 0x98, 0x40, 0x8e, 0x9f, 0xd, 0x4a, 0x3c, 0x9c, 0x31, 0xd4, 0x88, 0x29, 0x30, 0xe1, 0xc}, CreatedAt:time.Time{wall:0x1fd56a00, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x1fd56de8, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret1", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x57, 0xbe, 0x1a, 0x9a, 0xfd, 0xe5, 0x42, 0x40, 0x8a, 0x3f, 0x9c, 0x1d, 0xe3, 0x9c, 0x42, 0x47}, CreatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21334480, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"alive", "busy"}}, models.AgentIntroSecret{ID:uuid.UUID{0x69, 0x8, 0xf, 0x42, 0xf6, 0x10, 0x41, 0x3c, 0x90, 0xe6, 0x38, 0x8d, 0x59, 0x85, 0x40, 0x8c}, CreatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21048b90, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_1", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"default"}}}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,34 +1,2 @@
        	            	-(models.AgentIntroSecrets) (len=6) {
        	            	- (models.AgentIntroSecret) {
        	            	-  ID: (uuid.UUID) (len=16) {
        	            	-   00000000  bc e2 01 68 ed 60 4b af  b4 ec 93 0f 02 9d 69 4d  |...h.`K.......iM|
        	            	-  },
        	            	-  CreatedAt: (time.Time) {
        	            	-   wall: (uint64) 546669000,
        	            	-   ext: (int64) 63746304084,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  UpdatedAt: (time.Time) {
        	            	-   wall: (uint64) 546670000,
        	            	-   ext: (int64) 63746304084,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  ExpiresAt: (time.Time) {
        	            	-   wall: (uint64) 533986000,
        	            	-   ext: (int64) 63746386884,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  Secret: (string) (len=7) "Secret4",
        	            	-  SingleUse: (bool) false,
        	            	-  Invalidated: (bool) true,
        	            	-  PoolID: (nulls.UUID) {
        	            	-   UUID: (uuid.UUID) (len=16) {
        	            	-    00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	-   },
        	            	-   Valid: (bool) false
        	            	-  },
        	            	-  TagsArray: (pq.StringArray) (len=1) {
        	            	-   (string) (len=3) "tag"
        	            	-  }
        	            	- },
        	            	+(models.AgentIntroSecrets) (len=5) {
        	            	  (models.AgentIntroSecret) {
        	Test:       	Test_ActionSuite/Test_AgentIntroSecretsResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by created_at column in desc order
{"time":"2021-01-15T10:41:24.553691+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?sort_by=updated_at&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":3208311,"latency_human":"3.208311ms","bytes_in":0,"bytes_out":2389}
    agent_intro_secrets_test.go:472:
        	Error Trace:	agent_intro_secrets_test.go:472
        	Error:      	Not equal:
        	            	expected: models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0x79, 0xbc, 0x75, 0x57, 0x37, 0x5a, 0x40, 0x48, 0x9e, 0xe8, 0x0, 0x6d, 0x2d, 0x75, 0xe2, 0x15}, CreatedAt:time.Time{wall:0x20d0bdd8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x20d0c1c0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746214084, loc:(*time.Location)(nil)}, Secret:"Secret5", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xbc, 0xe2, 0x1, 0x68, 0xed, 0x60, 0x4b, 0xaf, 0xb4, 0xec, 0x93, 0xf, 0x2, 0x9d, 0x69, 0x4d}, CreatedAt:time.Time{wall:0x209581c8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x209585b0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret4", SingleUse:false, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x67, 0x5f, 0x5e, 0x65, 0x8f, 0x21, 0x4b, 0x59, 0x9d, 0x47, 0xca, 0x1c, 0x2c, 0x1f, 0x2d, 0xcd}, CreatedAt:time.Time{wall:0x205a9f90, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x205aa378, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret3", SingleUse:true, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xb2, 0xd2, 0x6c, 0xc5, 0x46, 0x6c, 0x41, 0xd6, 0x87, 0x7f, 0x1d, 0xec, 0xc2, 0x5e, 0xc, 0x67}, CreatedAt:time.Time{wall:0x201ebf70, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x201ec358, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xba, 0x98, 0x40, 0x8e, 0x9f, 0xd, 0x4a, 0x3c, 0x9c, 0x31, 0xd4, 0x88, 0x29, 0x30, 0xe1, 0xc}, CreatedAt:time.Time{wall:0x1fd56a00, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x1fd56de8, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret1", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x57, 0xbe, 0x1a, 0x9a, 0xfd, 0xe5, 0x42, 0x40, 0x8a, 0x3f, 0x9c, 0x1d, 0xe3, 0x9c, 0x42, 0x47}, CreatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21334480, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"alive", "busy"}}, models.AgentIntroSecret{ID:uuid.UUID{0x69, 0x8, 0xf, 0x42, 0xf6, 0x10, 0x41, 0x3c, 0x90, 0xe6, 0x38, 0x8d, 0x59, 0x85, 0x40, 0x8c}, CreatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21048b90, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_1", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"default"}}}
        	            	actual  : models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0xbc, 0xe2, 0x1, 0x68, 0xed, 0x60, 0x4b, 0xaf, 0xb4, 0xec, 0x93, 0xf, 0x2, 0x9d, 0x69, 0x4d}, CreatedAt:time.Time{wall:0x209581c8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x209585b0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret4", SingleUse:false, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x67, 0x5f, 0x5e, 0x65, 0x8f, 0x21, 0x4b, 0x59, 0x9d, 0x47, 0xca, 0x1c, 0x2c, 0x1f, 0x2d, 0xcd}, CreatedAt:time.Time{wall:0x205a9f90, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x205aa378, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret3", SingleUse:true, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xb2, 0xd2, 0x6c, 0xc5, 0x46, 0x6c, 0x41, 0xd6, 0x87, 0x7f, 0x1d, 0xec, 0xc2, 0x5e, 0xc, 0x67}, CreatedAt:time.Time{wall:0x201ebf70, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x201ec358, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xba, 0x98, 0x40, 0x8e, 0x9f, 0xd, 0x4a, 0x3c, 0x9c, 0x31, 0xd4, 0x88, 0x29, 0x30, 0xe1, 0xc}, CreatedAt:time.Time{wall:0x1fd56a00, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x1fd56de8, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret1", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x57, 0xbe, 0x1a, 0x9a, 0xfd, 0xe5, 0x42, 0x40, 0x8a, 0x3f, 0x9c, 0x1d, 0xe3, 0x9c, 0x42, 0x47}, CreatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21334480, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"alive", "busy"}}, models.AgentIntroSecret{ID:uuid.UUID{0x69, 0x8, 0xf, 0x42, 0xf6, 0x10, 0x41, 0x3c, 0x90, 0xe6, 0x38, 0x8d, 0x59, 0x85, 0x40, 0x8c}, CreatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21048b90, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_1", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"default"}}}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,34 +1,2 @@
        	            	-(models.AgentIntroSecrets) (len=7) {
        	            	- (models.AgentIntroSecret) {
        	            	-  ID: (uuid.UUID) (len=16) {
        	            	-   00000000  79 bc 75 57 37 5a 40 48  9e e8 00 6d 2d 75 e2 15  |y.uW7Z@H...m-u..|
        	            	-  },
        	            	-  CreatedAt: (time.Time) {
        	            	-   wall: (uint64) 550551000,
        	            	-   ext: (int64) 63746304084,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  UpdatedAt: (time.Time) {
        	            	-   wall: (uint64) 550552000,
        	            	-   ext: (int64) 63746304084,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  ExpiresAt: (time.Time) {
        	            	-   wall: (uint64) 533986000,
        	            	-   ext: (int64) 63746214084,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  Secret: (string) (len=7) "Secret5",
        	            	-  SingleUse: (bool) false,
        	            	-  Invalidated: (bool) false,
        	            	-  PoolID: (nulls.UUID) {
        	            	-   UUID: (uuid.UUID) (len=16) {
        	            	-    00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	-   },
        	            	-   Valid: (bool) false
        	            	-  },
        	            	-  TagsArray: (pq.StringArray) (len=1) {
        	            	-   (string) (len=3) "tag"
        	            	-  }
        	            	- },
        	            	+(models.AgentIntroSecrets) (len=6) {
        	            	  (models.AgentIntroSecret) {
        	Test:       	Test_ActionSuite/Test_AgentIntroSecretsResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by updated_at column in desc order
{"time":"2021-01-15T10:41:24.558564+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?sort_by=CreAted_at&order_by=dEsc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2745182,"latency_human":"2.745182ms","bytes_in":0,"bytes_out":3119}
    agent_intro_secrets_test.go:472:
        	Error Trace:	agent_intro_secrets_test.go:472
        	Error:      	Not equal:
        	            	expected: models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0xe2, 0x1d, 0x31, 0x6e, 0x4c, 0x75, 0x40, 0x8, 0xbe, 0xe7, 0x59, 0x63, 0x75, 0x4d, 0x59, 0xe5}, CreatedAt:time.Time{wall:0x213a3da8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x213a4190, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3f6e8, ext:63743539284, loc:(*time.Location)(nil)}, Secret:"Secret7", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xfe, 0xf1, 0xd4, 0xd, 0x93, 0x5e, 0x47, 0x1, 0xb7, 0x3c, 0x4b, 0xf7, 0xea, 0xda, 0x47, 0x81}, CreatedAt:time.Time{wall:0x210362b0, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x21036698, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746214084, loc:(*time.Location)(nil)}, Secret:"Secret6", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x79, 0xbc, 0x75, 0x57, 0x37, 0x5a, 0x40, 0x48, 0x9e, 0xe8, 0x0, 0x6d, 0x2d, 0x75, 0xe2, 0x15}, CreatedAt:time.Time{wall:0x20d0bdd8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x20d0c1c0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746214084, loc:(*time.Location)(nil)}, Secret:"Secret5", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xbc, 0xe2, 0x1, 0x68, 0xed, 0x60, 0x4b, 0xaf, 0xb4, 0xec, 0x93, 0xf, 0x2, 0x9d, 0x69, 0x4d}, CreatedAt:time.Time{wall:0x209581c8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x209585b0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret4", SingleUse:false, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x67, 0x5f, 0x5e, 0x65, 0x8f, 0x21, 0x4b, 0x59, 0x9d, 0x47, 0xca, 0x1c, 0x2c, 0x1f, 0x2d, 0xcd}, CreatedAt:time.Time{wall:0x205a9f90, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x205aa378, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret3", SingleUse:true, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xb2, 0xd2, 0x6c, 0xc5, 0x46, 0x6c, 0x41, 0xd6, 0x87, 0x7f, 0x1d, 0xec, 0xc2, 0x5e, 0xc, 0x67}, CreatedAt:time.Time{wall:0x201ebf70, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x201ec358, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xba, 0x98, 0x40, 0x8e, 0x9f, 0xd, 0x4a, 0x3c, 0x9c, 0x31, 0xd4, 0x88, 0x29, 0x30, 0xe1, 0xc}, CreatedAt:time.Time{wall:0x1fd56a00, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x1fd56de8, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret1", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x57, 0xbe, 0x1a, 0x9a, 0xfd, 0xe5, 0x42, 0x40, 0x8a, 0x3f, 0x9c, 0x1d, 0xe3, 0x9c, 0x42, 0x47}, CreatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21334480, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"alive", "busy"}}, models.AgentIntroSecret{ID:uuid.UUID{0x69, 0x8, 0xf, 0x42, 0xf6, 0x10, 0x41, 0x3c, 0x90, 0xe6, 0x38, 0x8d, 0x59, 0x85, 0x40, 0x8c}, CreatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21048b90, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_1", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"default"}}}
        	            	actual  : models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0xfe, 0xf1, 0xd4, 0xd, 0x93, 0x5e, 0x47, 0x1, 0xb7, 0x3c, 0x4b, 0xf7, 0xea, 0xda, 0x47, 0x81}, CreatedAt:time.Time{wall:0x210362b0, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x21036698, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746214084, loc:(*time.Location)(nil)}, Secret:"Secret6", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x79, 0xbc, 0x75, 0x57, 0x37, 0x5a, 0x40, 0x48, 0x9e, 0xe8, 0x0, 0x6d, 0x2d, 0x75, 0xe2, 0x15}, CreatedAt:time.Time{wall:0x20d0bdd8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x20d0c1c0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746214084, loc:(*time.Location)(nil)}, Secret:"Secret5", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xbc, 0xe2, 0x1, 0x68, 0xed, 0x60, 0x4b, 0xaf, 0xb4, 0xec, 0x93, 0xf, 0x2, 0x9d, 0x69, 0x4d}, CreatedAt:time.Time{wall:0x209581c8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x209585b0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret4", SingleUse:false, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x67, 0x5f, 0x5e, 0x65, 0x8f, 0x21, 0x4b, 0x59, 0x9d, 0x47, 0xca, 0x1c, 0x2c, 0x1f, 0x2d, 0xcd}, CreatedAt:time.Time{wall:0x205a9f90, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x205aa378, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret3", SingleUse:true, Invalidated:true, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xb2, 0xd2, 0x6c, 0xc5, 0x46, 0x6c, 0x41, 0xd6, 0x87, 0x7f, 0x1d, 0xec, 0xc2, 0x5e, 0xc, 0x67}, CreatedAt:time.Time{wall:0x201ebf70, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x201ec358, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xba, 0x98, 0x40, 0x8e, 0x9f, 0xd, 0x4a, 0x3c, 0x9c, 0x31, 0xd4, 0x88, 0x29, 0x30, 0xe1, 0xc}, CreatedAt:time.Time{wall:0x1fd56a00, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x1fd56de8, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746386884, loc:(*time.Location)(nil)}, Secret:"Secret1", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x57, 0xbe, 0x1a, 0x9a, 0xfd, 0xe5, 0x42, 0x40, 0x8a, 0x3f, 0x9c, 0x1d, 0xe3, 0x9c, 0x42, 0x47}, CreatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63587343845, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21334480, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_2", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"alive", "busy"}}, models.AgentIntroSecret{ID:uuid.UUID{0x69, 0x8, 0xf, 0x42, 0xf6, 0x10, 0x41, 0x3c, 0x90, 0xe6, 0x38, 0x8d, 0x59, 0x85, 0x40, 0x8c}, CreatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x0, ext:63271811045, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x21048b90, ext:63746905284, loc:(*time.Location)(nil)}, Secret:"super_secret_1", SingleUse:false, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"default"}}}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,34 +1,2 @@
        	            	-(models.AgentIntroSecrets) (len=9) {
        	            	- (models.AgentIntroSecret) {
        	            	-  ID: (uuid.UUID) (len=16) {
        	            	-   00000000  e2 1d 31 6e 4c 75 40 08  be e7 59 63 75 4d 59 e5  |..1nLu@...YcuMY.|
        	            	-  },
        	            	-  CreatedAt: (time.Time) {
        	            	-   wall: (uint64) 557465000,
        	            	-   ext: (int64) 63746304084,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  UpdatedAt: (time.Time) {
        	            	-   wall: (uint64) 557466000,
        	            	-   ext: (int64) 63746304084,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  ExpiresAt: (time.Time) {
        	            	-   wall: (uint64) 533985000,
        	            	-   ext: (int64) 63743539284,
        	            	-   loc: (*time.Location)(<nil>)
        	            	-  },
        	            	-  Secret: (string) (len=7) "Secret7",
        	            	-  SingleUse: (bool) true,
        	            	-  Invalidated: (bool) false,
        	            	-  PoolID: (nulls.UUID) {
        	            	-   UUID: (uuid.UUID) (len=16) {
        	            	-    00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	-   },
        	            	-   Valid: (bool) false
        	            	-  },
        	            	-  TagsArray: (pq.StringArray) (len=1) {
        	            	-   (string) (len=3) "tag"
        	            	-  }
        	            	- },
        	            	+(models.AgentIntroSecrets) (len=8) {
        	            	  (models.AgentIntroSecret) {
        	Test:       	Test_ActionSuite/Test_AgentIntroSecretsResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by created_at column in desc order
    --- FAIL: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Sorting_Custom (0.08s)


Expected :models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0xe2, 0x1d, 0x31, 0x6e, 0x4c, 0x75, 0x40, 0x8, 0xbe, 0xe7, 0x59, 0x63, 0x75, 0x4d, 0x59, 0xe5}, CreatedAt:time.Time{wall:0x213a3da8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x213a4190, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3f6e8, ext:63743539284, loc:(*time.Location)(nil)}, Secret:"Secret7", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0xfe, 0xf1, 0xd4, 0xd, 0x93, 0x5e, 0x47, 0x1, 0xb7, 0x3c, 0x4b, 0xf7, 0xea, 0xda, 0x47, 0x81}, CreatedAt:time.Time{wall:0x210362b0, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x21036698, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746214084, loc:(*time.Location)(ni
Actual   :models.AgentIntroSecrets{models.AgentIntroSecret{ID:uuid.UUID{0xfe, 0xf1, 0xd4, 0xd, 0x93, 0x5e, 0x47, 0x1, 0xb7, 0x3c, 0x4b, 0xf7, 0xea, 0xda, 0x47, 0x81}, CreatedAt:time.Time{wall:0x210362b0, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x21036698, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746214084, loc:(*time.Location)(nil)}, Secret:"Secret6", SingleUse:true, Invalidated:false, PoolID:nulls.UUID{UUID:uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, Valid:false}, TagsArray:pq.StringArray{"tag"}}, models.AgentIntroSecret{ID:uuid.UUID{0x79, 0xbc, 0x75, 0x57, 0x37, 0x5a, 0x40, 0x48, 0x9e, 0xe8, 0x0, 0x6d, 0x2d, 0x75, 0xe2, 0x15}, CreatedAt:time.Time{wall:0x20d0bdd8, ext:63746304084, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x20d0c1c0, ext:63746304084, loc:(*time.Location)(nil)}, ExpiresAt:time.Time{wall:0x1fd3fad0, ext:63746214084, loc:(*time.Location)(ni
<Click to see difference>


=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Sorting_Default
{"time":"2021-01-15T10:41:24.610261+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":3262477,"latency_human":"3.262477ms","bytes_in":0,"bytes_out":932}
    --- PASS: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Sorting_Default (0.05s)
=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Tag_Multiple
{"time":"2021-01-15T10:41:24.659271+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?tags=busy,stopped","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4709571,"latency_human":"4.709571ms","bytes_in":0,"bytes_out":190}
    --- PASS: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Tag_Multiple (0.05s)
=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Tag_Single
{"time":"2021-01-15T10:41:24.69606+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?tags=alive","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4489907,"latency_human":"4.489907ms","bytes_in":0,"bytes_out":553}
    --- PASS: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Tag_Single (0.04s)
=== RUN   Test_ActionSuite/Test_AgentIntroSecretsResource_List_Updated_At
{"time":"2021-01-15T10:41:24.73303+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agent-intro-secrets?created_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4746731,"latency_human":"4.746731ms","bytes_in":0,"bytes_out":553}
    --- PASS: Test_ActionSuite/Test_AgentIntroSecretsResource_List_Updated_At (0.04s)
=== RUN   Test_ActionSuite/Test_AgentsResource_Alive_Tick
{"time":"2021-01-15T10:41:24.770961+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"HEAD","uri":"/agents/31a7ee34-06e9-4005-8b62-9cb6eda5b77d","user_agent":"Go-http-client/1.1","status":204,"error":"","latency":5832135,"latency_human":"5.832135ms","bytes_in":0,"bytes_out":0}
    --- PASS: Test_ActionSuite/Test_AgentsResource_Alive_Tick (0.04s)
=== RUN   Test_ActionSuite/Test_AgentsResource_CheckRedisCache
    agents_test.go:1064:
        	Error Trace:	agents_test.go:1064
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Connection).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:51
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_CheckRedisCache
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:1064
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Connection).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:51
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_CheckRedisCache
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:1064
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_AgentsResource_CheckRedisCache
time="2021-01-15T10:41:24.820559+01:00" level=error msg="code=500, message=Failed to find AgentTaskLock, internal=SQL Error: pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:24.820587+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents/bf8ed4ba-c157-4f4b-811b-662d10f3f13e/task/next","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find AgentTaskLock, internal=SQL Error: pq: column tasks.base does not exist","latency":12665966,"latency_human":"12.665966ms","bytes_in":0,"bytes_out":107}
    agents_test.go:1072:
        	Error Trace:	agents_test.go:1072
        	Error:      	Not equal:
        	            	expected: 200
        	            	actual  : 500
        	Test:       	Test_ActionSuite/Test_AgentsResource_CheckRedisCache
    --- FAIL: Test_ActionSuite/Test_AgentsResource_CheckRedisCache (0.05s)


Expected :200
Actual   :500
<Click to see difference>


=== RUN   Test_ActionSuite/Test_AgentsResource_Create
{"time":"2021-01-15T10:41:24.857772+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/agent-intro-secrets","user_agent":"Go-http-client/1.1","status":201,"error":"","latency":3683367,"latency_human":"3.683367ms","bytes_in":33,"bytes_out":406}
time="2021-01-15T10:41:24.863779+01:00" level=error msg="Failed to get the Metrics from the Context" application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
{"time":"2021-01-15T10:41:24.863853+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/agents","user_agent":"Go-http-client/1.1","status":201,"error":"","latency":5882336,"latency_human":"5.882336ms","bytes_in":72,"bytes_out":479}
    --- PASS: Test_ActionSuite/Test_AgentsResource_Create (0.04s)
=== RUN   Test_ActionSuite/Test_AgentsResource_FetchCurrentTaskStatus
WARN: pg: 2021/01/15 10:41:24 Task.TaskConfig has unknown tag option: "rel"
WARN: pg: 2021/01/15 10:41:24 TaskConfig.Task has unknown tag option: "rel"
{"time":"2021-01-15T10:41:24.904471+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents/684d84cf-27d6-4732-ac95-fb4518ee6cbb/task/status","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":6194735,"latency_human":"6.194735ms","bytes_in":0,"bytes_out":297}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				agents_test.go:812
        	Error:      	Received unexpected error:
        	            	parsing time "{
        	            	    "Time": "0001-01-01T00:00:00Z",
        	            	    "Valid": false
        	            	  }" as ""2006-01-02T15:04:05Z07:00"": cannot parse "{
        	            	    "Time": "0001-01-01T00:00:00Z",
        	            	    "Valid": false
        	            	  }" as """
        	Test:       	Test_ActionSuite/Test_AgentsResource_FetchCurrentTaskStatus
        	Messages:   	The response body should be JSON decoded
    agents_test.go:817:
        	Error Trace:	agents_test.go:817
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_FetchCurrentTaskStatus
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:816
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Query).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:43
        	            	github.com/gobuffalo/pop.(*Connection).Find
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:23
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_FetchCurrentTaskStatus
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:816
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_AgentsResource_FetchCurrentTaskStatus
        	Messages:   	The task assigned to the corresponding agent must be available in the DB
    --- FAIL: Test_ActionSuite/Test_AgentsResource_FetchCurrentTaskStatus (0.04s)

=== RUN   Test_ActionSuite/Test_AgentsResource_FetchNextTask_TaintedAgent
    agents_test.go:922:
        	Error Trace:	agents_test.go:922
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Connection).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:51
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_FetchNextTask_TaintedAgent
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:922
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Connection).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:51
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_FetchNextTask_TaintedAgent
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:922
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_AgentsResource_FetchNextTask_TaintedAgent
time="2021-01-15T10:41:24.951531+01:00" level=error msg="Tainted single-use agent trying to query for new task" agent_id=51e925d2-ac2e-43a7-9008-3d6a275b9e22 application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
time="2021-01-15T10:41:24.95156+01:00" level=error msg="code=403, message=Forbidden" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:24.951571+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents/51e925d2-ac2e-43a7-9008-3d6a275b9e22/task/next","user_agent":"Go-http-client/1.1","status":403,"error":"code=403, message=Forbidden","latency":5312769,"latency_human":"5.312769ms","bytes_in":0,"bytes_out":30}
    --- FAIL: Test_ActionSuite/Test_AgentsResource_FetchNextTask_TaintedAgent (0.05s)

=== RUN   Test_ActionSuite/Test_AgentsResource_FetchNextTask_UntaintedAgent
    agents_test.go:866:
        	Error Trace:	agents_test.go:866
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Connection).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:51
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_FetchNextTask_UntaintedAgent
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:866
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Connection).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:51
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_FetchNextTask_UntaintedAgent
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:866
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_AgentsResource_FetchNextTask_UntaintedAgent
time="2021-01-15T10:41:24.999234+01:00" level=error msg="code=500, message=Failed to find AgentTaskLock, internal=SQL Error: pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:24.999252+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents/dd85370c-768b-450f-922c-3ab33b6494a8/task/next","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find AgentTaskLock, internal=SQL Error: pq: column tasks.base does not exist","latency":10405466,"latency_human":"10.405466ms","bytes_in":0,"bytes_out":107}
    agents_test.go:874:
        	Error Trace:	agents_test.go:874
        	Error:      	Not equal:
        	            	expected: 200
        	            	actual  : 500
        	Test:       	Test_ActionSuite/Test_AgentsResource_FetchNextTask_UntaintedAgent
    agents_test.go:877:
        	Error Trace:	agents_test.go:877
        	Error:      	Received unexpected error:
        	            	sql: no rows in result set
        	            	github.com/gobuffalo/pop.genericSelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:120
        	            	github.com/gobuffalo/pop.(*postgresql).SelectOne
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:79
        	            	github.com/gobuffalo/pop.(*Query).First.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:61
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Connection).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:51
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_FetchNextTask_UntaintedAgent
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:877
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:58
        	            	github.com/gobuffalo/pop.(*Connection).First
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:51
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_AgentsResource_FetchNextTask_UntaintedAgent
        	            		/Users/janosseteny/prj/infra/den/server/actions/agents_test.go:877
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_AgentsResource_FetchNextTask_UntaintedAgent
    agents_test.go:879:
        	Error Trace:	agents_test.go:879
        	Error:      	Not equal:
        	            	expected: uuid.UUID{0xdd, 0x85, 0x37, 0xc, 0x76, 0x8b, 0x45, 0xf, 0x92, 0x2c, 0x3a, 0xb3, 0x3b, 0x64, 0x94, 0xa8}
        	            	actual  : uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,3 @@
        	            	 (uuid.UUID) (len=16) {
        	            	- 00000000  dd 85 37 0c 76 8b 45 0f  92 2c 3a b3 3b 64 94 a8  |..7.v.E..,:.;d..|
        	            	+ 00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
        	            	 }
        	Test:       	Test_ActionSuite/Test_AgentsResource_FetchNextTask_UntaintedAgent
    --- FAIL: Test_ActionSuite/Test_AgentsResource_FetchNextTask_UntaintedAgent (0.05s)


Expected :uuid.UUID{0xdd, 0x85, 0x37, 0xc, 0x76, 0x8b, 0x45, 0xf, 0x92, 0x2c, 0x3a, 0xb3, 0x3b, 0x64, 0x94, 0xa8}
Actual   :uuid.UUID{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}
<Click to see difference>


=== RUN   Test_ActionSuite/Test_AgentsResource_Kill
time="2021-01-15T10:41:25.037376+01:00" level=warning msg="Failed to decode request parameters: EOF" agent_id=d0793b5f-eb34-42bf-9b3a-51fcf272ac28 application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
time="2021-01-15T10:41:25.041764+01:00" level=error msg="Failed to get the Metrics from the Context" application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
{"time":"2021-01-15T10:41:25.041829+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/agents/d0793b5f-eb34-42bf-9b3a-51fcf272ac28/kill","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":8637185,"latency_human":"8.637185ms","bytes_in":0,"bytes_out":369}
    --- PASS: Test_ActionSuite/Test_AgentsResource_Kill (0.04s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List
{"time":"2021-01-15T10:41:25.091091+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4833867,"latency_human":"4.833867ms","bytes_in":0,"bytes_out":593}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List (0.05s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Alive_At
{"time":"2021-01-15T10:41:25.126199+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?alive_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1790517,"latency_human":"1.790517ms","bytes_in":0,"bytes_out":540}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Alive_At (0.04s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Created_At
{"time":"2021-01-15T10:41:25.15999+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?created_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1688370,"latency_human":"1.68837ms","bytes_in":0,"bytes_out":540}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Created_At (0.03s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Date_Patterns
{"time":"2021-01-15T10:41:25.186087+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?created_at=2016-01-01T15%3A04%3A05%2B07%3A00&updated_at=2016-01-01T15%3A04%3A05%2B07%3A00&alive_at=2016-01-01T15%3A04%3A05%2B07%3A00","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1646464,"latency_human":"1.646464ms","bytes_in":0,"bytes_out":179}
{"time":"2021-01-15T10:41:25.18784+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?created_at=2016-01-01T15%3A04%3A05&updated_at=2016-01-01T15%3A04%3A05&alive_at=2016-01-01T15%3A04%3A05","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1336000,"latency_human":"1.336ms","bytes_in":0,"bytes_out":179}
{"time":"2021-01-15T10:41:25.189461+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?created_at=2016-01-01T15%3A04&updated_at=2016-01-01T15%3A04&alive_at=2016-01-01T15%3A04","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1265013,"latency_human":"1.265013ms","bytes_in":0,"bytes_out":179}
{"time":"2021-01-15T10:41:25.191082+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?created_at=2016-01-01T15&updated_at=2016-01-01T15&alive_at=2016-01-01T15","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1255280,"latency_human":"1.25528ms","bytes_in":0,"bytes_out":179}
{"time":"2021-01-15T10:41:25.192622+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?created_at=2016-01-01&updated_at=2016-01-01&alive_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1262556,"latency_human":"1.262556ms","bytes_in":0,"bytes_out":179}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Date_Patterns (0.04s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Input_Validation
time="2021-01-15T10:41:25.225621+01:00" level=error msg="code=400, message=invalid query parameters: created_at has an unrecognizable value: wHaTeVer" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.225643+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?created_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=invalid query parameters: created_at has an unrecognizable value: wHaTeVer","latency":63803,"latency_human":"63.803µs","bytes_in":0,"bytes_out":95}
time="2021-01-15T10:41:25.225812+01:00" level=error msg="code=400, message=invalid query parameters: updated_at has an unrecognizable value: wHaTeVer" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.225822+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?updated_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=invalid query parameters: updated_at has an unrecognizable value: wHaTeVer","latency":25595,"latency_human":"25.595µs","bytes_in":0,"bytes_out":95}
time="2021-01-15T10:41:25.225939+01:00" level=error msg="code=400, message=invalid query parameters: alive_at has an unrecognizable value: wHaTeVer" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.22595+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?alive_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=invalid query parameters: alive_at has an unrecognizable value: wHaTeVer","latency":24560,"latency_human":"24.56µs","bytes_in":0,"bytes_out":93}
time="2021-01-15T10:41:25.226107+01:00" level=error msg="code=400, message=invalid query parameters: status must be either busy stopped destroyed missing" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.226118+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?status=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=invalid query parameters: status must be either busy stopped destroyed missing","latency":29356,"latency_human":"29.356µs","bytes_in":0,"bytes_out":99}
time="2021-01-15T10:41:25.226261+01:00" level=error msg="code=400, message=invalid query parameters: sort_by must be either created_at, updated_at, alive_at or status" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.226272+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=invalid query parameters: sort_by must be either created_at, updated_at, alive_at or status","latency":34729,"latency_human":"34.729µs","bytes_in":0,"bytes_out":112}
time="2021-01-15T10:41:25.22639+01:00" level=error msg="code=400, message=invalid query parameters: order_by must be either asc or desc" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.2264+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?order_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=invalid query parameters: order_by must be either asc or desc","latency":22194,"latency_human":"22.194µs","bytes_in":0,"bytes_out":82}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Input_Validation (0.03s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Is_Dead
{"time":"2021-01-15T10:41:25.25913+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?is_dead=whatever_342","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1669681,"latency_human":"1.669681ms","bytes_in":0,"bytes_out":540}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Is_Dead (0.03s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Is_Dead_Include
{"time":"2021-01-15T10:41:25.292583+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?is_dead=true","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1521780,"latency_human":"1.52178ms","bytes_in":0,"bytes_out":900}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Is_Dead_Include (0.03s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Pagination
{"time":"2021-01-15T10:41:25.32878+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?per_page=2&page=3","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1361985,"latency_human":"1.361985ms","bytes_in":0,"bytes_out":176}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Pagination (0.04s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Pagination_Defaults
{"time":"2021-01-15T10:41:25.369934+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1417080,"latency_human":"1.41708ms","bytes_in":0,"bytes_out":1661}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Pagination_Defaults (0.04s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Sorting_Custom
{"time":"2021-01-15T10:41:25.405273+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=created_at&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1602339,"latency_human":"1.602339ms","bytes_in":0,"bytes_out":1663}
{"time":"2021-01-15T10:41:25.409028+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=updated_at&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1901178,"latency_human":"1.901178ms","bytes_in":0,"bytes_out":1663}
{"time":"2021-01-15T10:41:25.4123+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=alive_at&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1478700,"latency_human":"1.4787ms","bytes_in":0,"bytes_out":1663}
{"time":"2021-01-15T10:41:25.415421+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=status&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1717292,"latency_human":"1.717292ms","bytes_in":0,"bytes_out":1663}
{"time":"2021-01-15T10:41:25.418138+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=created_at&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1277107,"latency_human":"1.277107ms","bytes_in":0,"bytes_out":1663}
{"time":"2021-01-15T10:41:25.420488+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=updated_at&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1163391,"latency_human":"1.163391ms","bytes_in":0,"bytes_out":1663}
{"time":"2021-01-15T10:41:25.423+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=alive_at&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1223086,"latency_human":"1.223086ms","bytes_in":0,"bytes_out":1663}
{"time":"2021-01-15T10:41:25.425388+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=status&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1123878,"latency_human":"1.123878ms","bytes_in":0,"bytes_out":1663}
{"time":"2021-01-15T10:41:25.427995+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?sort_by=CreAted_at&order_by=dEsc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1330638,"latency_human":"1.330638ms","bytes_in":0,"bytes_out":1663}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Sorting_Custom (0.06s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Sorting_Default
{"time":"2021-01-15T10:41:25.468666+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1440969,"latency_human":"1.440969ms","bytes_in":0,"bytes_out":1663}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Sorting_Default (0.04s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Status
{"time":"2021-01-15T10:41:25.507134+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?status=busy","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1587451,"latency_human":"1.587451ms","bytes_in":0,"bytes_out":542}
{"time":"2021-01-15T10:41:25.509548+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?status=stopped","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1172103,"latency_human":"1.172103ms","bytes_in":0,"bytes_out":545}
{"time":"2021-01-15T10:41:25.511947+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?status=destroyed","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1129523,"latency_human":"1.129523ms","bytes_in":0,"bytes_out":547}
{"time":"2021-01-15T10:41:25.514525+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?status=missing","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1451859,"latency_human":"1.451859ms","bytes_in":0,"bytes_out":545}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Status (0.05s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Tag_Multiple
{"time":"2021-01-15T10:41:25.54784+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?tags=busy,stopped","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1461684,"latency_human":"1.461684ms","bytes_in":0,"bytes_out":598}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Tag_Multiple (0.03s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Tag_Single
{"time":"2021-01-15T10:41:25.578927+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?tags=alive","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1372763,"latency_human":"1.372763ms","bytes_in":0,"bytes_out":563}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Tag_Single (0.03s)
=== RUN   Test_ActionSuite/Test_AgentsResource_List_Updated_At
{"time":"2021-01-15T10:41:25.610473+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents?updated_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1516816,"latency_human":"1.516816ms","bytes_in":0,"bytes_out":540}
    --- PASS: Test_ActionSuite/Test_AgentsResource_List_Updated_At (0.03s)
=== RUN   Test_ActionSuite/Test_CreateByTask
{"time":"2021-01-15T10:41:25.646222+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1686042,"latency_human":"1.686042ms","bytes_in":0,"bytes_out":551}
time="2021-01-15T10:41:25.648998+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.649014+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1401145,"latency_human":"1.401145ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				log_chunks_test.go:166
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_CreateByTask
        	Messages:   	The response body should be JSON decoded
    log_chunks_test.go:168:
        	Error Trace:	log_chunks_test.go:168
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:168
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:168
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_CreateByTask
        	Messages:   	Tasks should be fetched from the DB
    log_chunks_test.go:172:
        	Error Trace:	log_chunks_test.go:172
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_CreateByTask
        	Messages:   	List endpoint must return all Tasks
    suite.go:63: test panicked: runtime error: index out of range [0] with length 0
        goroutine 424 [running]:
        runtime/debug.Stack(0xc0014773c8, 0x1a8b380, 0xc0013f69a0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc00149ca20)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x1a8b380, 0xc0013f69a0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask(0xc0005fed20)
        	/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:175 +0x205e
        reflect.Value.call(0xc000402b40, 0xc0007135b8, 0x13, 0x1af6cb2, 0x4, 0xc000445e30, 0x1, 0x1, 0xc000445cf8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc000402b40, 0xc0007135b8, 0x13, 0xc000445e30, 0x1, 0x1, 0x10d6b5, 0x110f62f, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc00149ca20)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc00149ca20, 0xc00067a5a0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ActionSuite/Test_CreateByTask (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_CreateByTask_LargeChunk
{"time":"2021-01-15T10:41:25.68554+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1355597,"latency_human":"1.355597ms","bytes_in":0,"bytes_out":551}
time="2021-01-15T10:41:25.687984+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.688007+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1221215,"latency_human":"1.221215ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				log_chunks_test.go:289
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_CreateByTask_LargeChunk
        	Messages:   	The response body should be JSON decoded
    log_chunks_test.go:291:
        	Error Trace:	log_chunks_test.go:291
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_LargeChunk
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:291
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_LargeChunk
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:291
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_CreateByTask_LargeChunk
        	Messages:   	Tasks should be fetched from the DB
    log_chunks_test.go:295:
        	Error Trace:	log_chunks_test.go:295
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_CreateByTask_LargeChunk
        	Messages:   	List endpoint must return all Tasks
    suite.go:63: test panicked: runtime error: index out of range [0] with length 0
        goroutine 452 [running]:
        runtime/debug.Stack(0xc0016113c8, 0x1a8b380, 0xc001462b00)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc0013f0d80)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x1a8b380, 0xc001462b00)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_LargeChunk(0xc0005fed20)
        	/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:298 +0x2067
        reflect.Value.call(0xc000402b40, 0xc0007135d0, 0x13, 0x1af6cb2, 0x4, 0xc000445e30, 0x1, 0x1, 0xc000445cf8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc000402b40, 0xc0007135d0, 0x13, 0xc000445e30, 0x1, 0x1, 0x10d6b5, 0x110f62f, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc0013f0d80)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc0013f0d80, 0xc00067a630)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ActionSuite/Test_CreateByTask_LargeChunk (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_CreateByTask_RateLimit
{"time":"2021-01-15T10:41:25.722377+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1453723,"latency_human":"1.453723ms","bytes_in":0,"bytes_out":572}
time="2021-01-15T10:41:25.72483+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.724843+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1205908,"latency_human":"1.205908ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				log_chunks_test.go:586
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_CreateByTask_RateLimit
        	Messages:   	The response body should be JSON decoded
    log_chunks_test.go:588:
        	Error Trace:	log_chunks_test.go:588
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_RateLimit
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:588
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_RateLimit
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:588
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_CreateByTask_RateLimit
        	Messages:   	Tasks should be fetched from the DB
    log_chunks_test.go:592:
        	Error Trace:	log_chunks_test.go:592
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_CreateByTask_RateLimit
        	Messages:   	List endpoint must return all Tasks
    suite.go:63: test panicked: runtime error: index out of range [0] with length 0
        goroutine 472 [running]:
        runtime/debug.Stack(0xc0014773c0, 0x1a8b380, 0xc0013f7040)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc001467320)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x1a8b380, 0xc0013f7040)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_RateLimit(0xc0005fed20)
        	/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:595 +0x1f40
        reflect.Value.call(0xc000402b40, 0xc0007135e8, 0x13, 0x1af6cb2, 0x4, 0xc000445e30, 0x1, 0x1, 0xc000445cf8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc000402b40, 0xc0007135e8, 0x13, 0xc000445e30, 0x1, 0x1, 0x10d6b5, 0x110f62f, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc001467320)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc001467320, 0xc00067a6c0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ActionSuite/Test_CreateByTask_RateLimit (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_CreateByTask_TooLargeChunk
{"time":"2021-01-15T10:41:25.759763+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":1366637,"latency_human":"1.366637ms","bytes_in":0,"bytes_out":551}
time="2021-01-15T10:41:25.762792+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.762822+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1659225,"latency_human":"1.659225ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				log_chunks_test.go:403
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_CreateByTask_TooLargeChunk
        	Messages:   	The response body should be JSON decoded
    log_chunks_test.go:405:
        	Error Trace:	log_chunks_test.go:405
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_TooLargeChunk
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:405
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_TooLargeChunk
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:405
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_CreateByTask_TooLargeChunk
        	Messages:   	Tasks should be fetched from the DB
    log_chunks_test.go:409:
        	Error Trace:	log_chunks_test.go:409
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_CreateByTask_TooLargeChunk
        	Messages:   	List endpoint must return all Tasks
    suite.go:63: test panicked: runtime error: index out of range [0] with length 0
        goroutine 453 [running]:
        runtime/debug.Stack(0xc00160d428, 0x1a8b380, 0xc00052d0c0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc0013f17a0)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x1a8b380, 0xc00052d0c0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_TooLargeChunk(0xc0005fed20)
        	/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:412 +0x1b76
        reflect.Value.call(0xc000402b40, 0xc000713600, 0x13, 0x1af6cb2, 0x4, 0xc000445e30, 0x1, 0x1, 0xc000445cf8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc000402b40, 0xc000713600, 0x13, 0xc000445e30, 0x1, 0x1, 0x10d6b5, 0x110f62f, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc0013f17a0)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc0013f17a0, 0xc00067a750)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ActionSuite/Test_CreateByTask_TooLargeChunk (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_CreateByTask_TooLargeChunk_AndLieingAboutIt
{"time":"2021-01-15T10:41:25.800062+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/agents","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2349133,"latency_human":"2.349133ms","bytes_in":0,"bytes_out":551}
time="2021-01-15T10:41:25.803022+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.803039+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1595216,"latency_human":"1.595216ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				log_chunks_test.go:495
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_CreateByTask_TooLargeChunk_AndLieingAboutIt
        	Messages:   	The response body should be JSON decoded
    log_chunks_test.go:497:
        	Error Trace:	log_chunks_test.go:497
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_TooLargeChunk_AndLieingAboutIt
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:497
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_TooLargeChunk_AndLieingAboutIt
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:497
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_CreateByTask_TooLargeChunk_AndLieingAboutIt
        	Messages:   	Tasks should be fetched from the DB
    log_chunks_test.go:501:
        	Error Trace:	log_chunks_test.go:501
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_CreateByTask_TooLargeChunk_AndLieingAboutIt
        	Messages:   	List endpoint must return all Tasks
    suite.go:63: test panicked: runtime error: index out of range [0] with length 0
        goroutine 487 [running]:
        runtime/debug.Stack(0xc001611410, 0x1a8b380, 0xc001463300)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc0015c0240)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x1a8b380, 0xc001463300)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_CreateByTask_TooLargeChunk_AndLieingAboutIt(0xc0005fed20)
        	/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:504 +0x1c90
        reflect.Value.call(0xc000402b40, 0xc000713618, 0x13, 0x1af6cb2, 0x4, 0xc000445e30, 0x1, 0x1, 0xc000445cf8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc000402b40, 0xc000713618, 0x13, 0xc000445e30, 0x1, 0x1, 0x10d6b5, 0x110f62f, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc0015c0240)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc0015c0240, 0xc00067a7e0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ActionSuite/Test_CreateByTask_TooLargeChunk_AndLieingAboutIt (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_HomeHandler
{"time":"2021-01-15T10:41:25.830457+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":62889,"latency_human":"62.889µs","bytes_in":0,"bytes_out":222}
    home_test.go:22: {Welcome to Bitrise DEN! You can find more information and setup guides at: https://github.com/bitrise-io/den 1.16.0 2021-01-15T10:41:25+01:00 development}
    --- PASS: Test_ActionSuite/Test_HomeHandler (0.03s)
=== RUN   Test_ActionSuite/Test_ListByTask
time="2021-01-15T10:41:25.867436+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:25.867471+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1407781,"latency_human":"1.407781ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				log_chunks_test.go:77
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_ListByTask
        	Messages:   	The response body should be JSON decoded
    log_chunks_test.go:79:
        	Error Trace:	log_chunks_test.go:79
        	Error:      	Received unexpected error:
        	            	pq: column tasks.base does not exist
        	            	github.com/gobuffalo/pop.genericSelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/dialect.go:130
        	            	github.com/gobuffalo/pop.(*postgresql).SelectMany
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:83
        	            	github.com/gobuffalo/pop.(*Query).All.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:124
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_ListByTask
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:79
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	            	github.com/gobuffalo/pop.(*Connection).timeFunc
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:195
        	            	github.com/gobuffalo/pop.(*Query).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:122
        	            	github.com/gobuffalo/pop.(*Connection).All
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/finders.go:115
        	            	github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_ListByTask
        	            		/Users/janosseteny/prj/infra/den/server/actions/log_chunks_test.go:79
        	            	reflect.Value.call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460
        	            	reflect.Value.Call
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321
        	            	github.com/stretchr/testify/suite.Run.func1
        	            		/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158
        	            	testing.tRunner
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050
        	            	runtime.goexit
        	            		/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/asm_amd64.s:1373
        	Test:       	Test_ActionSuite/Test_ListByTask
        	Messages:   	Tasks should be fetched from the DB
    log_chunks_test.go:83:
        	Error Trace:	log_chunks_test.go:83
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_ListByTask
        	Messages:   	List endpoint must return all Tasks
{"time":"2021-01-15T10:41:25.872796+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks/1c822a05-d01c-4bdf-a39c-3ae1129e2768/logs","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":3299581,"latency_human":"3.299581ms","bytes_in":0,"bytes_out":778}
    log_chunks_test.go:99:
        	Error Trace:	log_chunks_test.go:99
        	Error:      	Not equal:
        	            	expected: models.LogChunks{models.LogChunk{ID:uuid.UUID{0x9c, 0x2, 0x2c, 0x43, 0xc4, 0x21, 0x4f, 0x85, 0x97, 0x5a, 0x77, 0xdc, 0x5d, 0xe1, 0x3c, 0x9e}, CreatedAt:time.Time{wall:0x32f3fdb8, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3fdb8, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:3, Content:"I'm Logchunk #3"}, models.LogChunk{ID:uuid.UUID{0x8e, 0xda, 0x1c, 0x2f, 0xf7, 0x98, 0x44, 0xbc, 0x84, 0xf1, 0xaa, 0xd9, 0x97, 0x44, 0xbf, 0x92}, CreatedAt:time.Time{wall:0x32f3f9d0, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3f9d0, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:2, Content:"I'm Logchunk #2"}, models.LogChunk{ID:uuid.UUID{0xa9, 0x98, 0x86, 0x61, 0xee, 0x5c, 0x41, 0x6f, 0xb3, 0xc3, 0x3d, 0x6d, 0x5f, 0x98, 0xbf, 0x41}, CreatedAt:time.Time{wall:0x32f3e648, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3e648, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:1, Content:"I'm Logchunk #1"}}
        	            	actual  : models.LogChunks{models.LogChunk{ID:uuid.UUID{0xa9, 0x98, 0x86, 0x61, 0xee, 0x5c, 0x41, 0x6f, 0xb3, 0xc3, 0x3d, 0x6d, 0x5f, 0x98, 0xbf, 0x41}, CreatedAt:time.Time{wall:0x32f3e648, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3e648, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:1, Content:"I'm Logchunk #1"}, models.LogChunk{ID:uuid.UUID{0x8e, 0xda, 0x1c, 0x2f, 0xf7, 0x98, 0x44, 0xbc, 0x84, 0xf1, 0xaa, 0xd9, 0x97, 0x44, 0xbf, 0x92}, CreatedAt:time.Time{wall:0x32f3f9d0, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3f9d0, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:2, Content:"I'm Logchunk #2"}, models.LogChunk{ID:uuid.UUID{0x9c, 0x2, 0x2c, 0x43, 0xc4, 0x21, 0x4f, 0x85, 0x97, 0x5a, 0x77, 0xdc, 0x5d, 0xe1, 0x3c, 0x9e}, CreatedAt:time.Time{wall:0x32f3fdb8, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3fdb8, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:3, Content:"I'm Logchunk #3"}}

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -3,6 +3,6 @@
        	            	   ID: (uuid.UUID) (len=16) {
        	            	-   00000000  9c 02 2c 43 c4 21 4f 85  97 5a 77 dc 5d e1 3c 9e  |..,C.!O..Zw.].<.|
        	            	+   00000000  a9 98 86 61 ee 5c 41 6f  b3 c3 3d 6d 5f 98 bf 41  |...a.\Ao..=m_..A|
        	            	   },
        	            	   CreatedAt: (time.Time) {
        	            	-   wall: (uint64) 854851000,
        	            	+   wall: (uint64) 854845000,
        	            	    ext: (int64) 63746304085,
        	            	@@ -11,3 +11,3 @@
        	            	   UpdatedAt: (time.Time) {
        	            	-   wall: (uint64) 854851000,
        	            	+   wall: (uint64) 854845000,
        	            	    ext: (int64) 63746304085,
        	            	@@ -18,4 +18,4 @@
        	            	   },
        	            	-  Pos: (int) 3,
        	            	-  Content: (string) (len=15) "I'm Logchunk #3"
        	            	+  Pos: (int) 1,
        	            	+  Content: (string) (len=15) "I'm Logchunk #1"
        	            	  },
        	            	@@ -43,6 +43,6 @@
        	            	   ID: (uuid.UUID) (len=16) {
        	            	-   00000000  a9 98 86 61 ee 5c 41 6f  b3 c3 3d 6d 5f 98 bf 41  |...a.\Ao..=m_..A|
        	            	+   00000000  9c 02 2c 43 c4 21 4f 85  97 5a 77 dc 5d e1 3c 9e  |..,C.!O..Zw.].<.|
        	            	   },
        	            	   CreatedAt: (time.Time) {
        	            	-   wall: (uint64) 854845000,
        	            	+   wall: (uint64) 854851000,
        	            	    ext: (int64) 63746304085,
        	            	@@ -51,3 +51,3 @@
        	            	   UpdatedAt: (time.Time) {
        	            	-   wall: (uint64) 854845000,
        	            	+   wall: (uint64) 854851000,
        	            	    ext: (int64) 63746304085,
        	            	@@ -58,4 +58,4 @@
        	            	   },
        	            	-  Pos: (int) 1,
        	            	-  Content: (string) (len=15) "I'm Logchunk #1"
        	            	+  Pos: (int) 3,
        	            	+  Content: (string) (len=15) "I'm Logchunk #3"
        	            	  }
        	Test:       	Test_ActionSuite/Test_ListByTask
        	Messages:   	/tasks/{task id}/logs should return the LogChunks of a task with the given ID
    --- FAIL: Test_ActionSuite/Test_ListByTask (0.04s)


Expected :models.LogChunks{models.LogChunk{ID:uuid.UUID{0x9c, 0x2, 0x2c, 0x43, 0xc4, 0x21, 0x4f, 0x85, 0x97, 0x5a, 0x77, 0xdc, 0x5d, 0xe1, 0x3c, 0x9e}, CreatedAt:time.Time{wall:0x32f3fdb8, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3fdb8, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:3, Content:"I'm Logchunk #3"}, models.LogChunk{ID:uuid.UUID{0x8e, 0xda, 0x1c, 0x2f, 0xf7, 0x98, 0x44, 0xbc, 0x84, 0xf1, 0xaa, 0xd9, 0x97, 0x44, 0xbf, 0x92}, CreatedAt:time.Time{wall:0x32f3f9d0, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3f9d0, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:2, Content:"I'm Logchunk #2"}, models.LogChunk{ID:uuid.UUID{0xa9, 0x98, 0x86, 0x61, 0xee, 0x5c, 0x41, 0x6f, 0xb3, 0xc3, 0x3d, 0x6d,
Actual   :models.LogChunks{models.LogChunk{ID:uuid.UUID{0xa9, 0x98, 0x86, 0x61, 0xee, 0x5c, 0x41, 0x6f, 0xb3, 0xc3, 0x3d, 0x6d, 0x5f, 0x98, 0xbf, 0x41}, CreatedAt:time.Time{wall:0x32f3e648, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3e648, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:1, Content:"I'm Logchunk #1"}, models.LogChunk{ID:uuid.UUID{0x8e, 0xda, 0x1c, 0x2f, 0xf7, 0x98, 0x44, 0xbc, 0x84, 0xf1, 0xaa, 0xd9, 0x97, 0x44, 0xbf, 0x92}, CreatedAt:time.Time{wall:0x32f3f9d0, ext:63746304085, loc:(*time.Location)(nil)}, UpdatedAt:time.Time{wall:0x32f3f9d0, ext:63746304085, loc:(*time.Location)(nil)}, TaskID:uuid.UUID{0x1c, 0x82, 0x2a, 0x5, 0xd0, 0x1c, 0x4b, 0xdf, 0xa3, 0x9c, 0x3a, 0xe1, 0x12, 0x9e, 0x27, 0x68}, Pos:2, Content:"I'm Logchunk #2"}, models.LogChunk{ID:uuid.UUID{0x9c, 0x2, 0x2c, 0x43, 0xc4, 0x21, 0x4f, 0x85, 0x97, 0x5a, 0x77, 0xdc,
<Click to see difference>


=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List
{"time":"2021-01-15T10:41:25.904936+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2426210,"latency_human":"2.42621ms","bytes_in":0,"bytes_out":675}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List (0.03s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Created_At
{"time":"2021-01-15T10:41:25.937148+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?created_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4284875,"latency_human":"4.284875ms","bytes_in":0,"bytes_out":442}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Created_At (0.03s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Date_Patterns
{"time":"2021-01-15T10:41:25.964761+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?created_at=2016-01-01T15%3A04%3A05%2B07%3A00&updated_at=2016-01-01T15%3A04%3A05%2B07%3A00","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4320968,"latency_human":"4.320968ms","bytes_in":0,"bytes_out":189}
{"time":"2021-01-15T10:41:25.969439+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?created_at=2016-01-01T15%3A04%3A05&updated_at=2016-01-01T15%3A04%3A05","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4289062,"latency_human":"4.289062ms","bytes_in":0,"bytes_out":189}
{"time":"2021-01-15T10:41:25.973747+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?created_at=2016-01-01T15%3A04&updated_at=2016-01-01T15%3A04","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":3988088,"latency_human":"3.988088ms","bytes_in":0,"bytes_out":189}
{"time":"2021-01-15T10:41:25.978113+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?created_at=2016-01-01T15&updated_at=2016-01-01T15","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4042829,"latency_human":"4.042829ms","bytes_in":0,"bytes_out":189}
{"time":"2021-01-15T10:41:25.982497+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?created_at=2016-01-01&updated_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4100934,"latency_human":"4.100934ms","bytes_in":0,"bytes_out":189}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Date_Patterns (0.05s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Input_Validation
time="2021-01-15T10:41:26.007019+01:00" level=error msg="code=400, message=created_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.007037+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?created_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=created_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":66839,"latency_human":"66.839µs","bytes_in":0,"bytes_out":225}
time="2021-01-15T10:41:26.007207+01:00" level=error msg="code=400, message=updated_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.007219+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?updated_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=updated_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":40857,"latency_human":"40.857µs","bytes_in":0,"bytes_out":225}
time="2021-01-15T10:41:26.007366+01:00" level=error msg="code=400, message=sort_by must be either created_at or updated_at" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.007378+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?sort_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=sort_by must be either created_at or updated_at","latency":23545,"latency_human":"23.545µs","bytes_in":0,"bytes_out":68}
time="2021-01-15T10:41:26.007494+01:00" level=error msg="code=400, message=order_by must be either asc or desc" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.007507+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?order_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=order_by must be either asc or desc","latency":23000,"latency_human":"23µs","bytes_in":0,"bytes_out":56}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Input_Validation (0.02s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Pagination
{"time":"2021-01-15T10:41:26.042739+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?per_page=2&page=3","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2142976,"latency_human":"2.142976ms","bytes_in":0,"bytes_out":440}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Pagination (0.04s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Pagination_Defaults
{"time":"2021-01-15T10:41:26.078656+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2299182,"latency_human":"2.299182ms","bytes_in":0,"bytes_out":1408}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Pagination_Defaults (0.04s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Sorting_Custom
{"time":"2021-01-15T10:41:26.114507+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?sort_by=created_at&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2166470,"latency_human":"2.16647ms","bytes_in":0,"bytes_out":1408}
{"time":"2021-01-15T10:41:26.1182+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?sort_by=updated_at&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2287048,"latency_human":"2.287048ms","bytes_in":0,"bytes_out":1408}
{"time":"2021-01-15T10:41:26.121477+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?sort_by=created_at&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2050328,"latency_human":"2.050328ms","bytes_in":0,"bytes_out":1408}
{"time":"2021-01-15T10:41:26.124987+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?sort_by=updated_at&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2358900,"latency_human":"2.3589ms","bytes_in":0,"bytes_out":1408}
{"time":"2021-01-15T10:41:26.128553+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?sort_by=CreAted_at&order_by=dEsc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2225771,"latency_human":"2.225771ms","bytes_in":0,"bytes_out":1408}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Sorting_Custom (0.05s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Sorting_Default
{"time":"2021-01-15T10:41:26.165108+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2419695,"latency_human":"2.419695ms","bytes_in":0,"bytes_out":1408}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Sorting_Default (0.04s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Tag_Multiple
{"time":"2021-01-15T10:41:26.204852+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?tags=busy,stopped","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4733541,"latency_human":"4.733541ms","bytes_in":0,"bytes_out":189}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Tag_Multiple (0.04s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Tag_Single
{"time":"2021-01-15T10:41:26.244785+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?tags=alive","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4455591,"latency_human":"4.455591ms","bytes_in":0,"bytes_out":1176}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Tag_Single (0.04s)
=== RUN   Test_ActionSuite/Test_PoolIntroSecretsResource_List_Updated_At
{"time":"2021-01-15T10:41:26.279393+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pool-intro-secrets?updated_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4443009,"latency_human":"4.443009ms","bytes_in":0,"bytes_out":442}
    --- PASS: Test_ActionSuite/Test_PoolIntroSecretsResource_List_Updated_At (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_AgentDestroyed
time="2021-01-15T10:41:26.315887+01:00" level=error msg="Failed to get the Metrics from the Context" application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
{"time":"2021-01-15T10:41:26.315957+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"DELETE","uri":"/pools/be215e27-a01b-457a-9c3f-c25c170bed63/agents/track-me-down-1","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":5046853,"latency_human":"5.046853ms","bytes_in":0,"bytes_out":84}
time="2021-01-15T10:41:26.32113+01:00" level=error msg="Failed to get the Metrics from the Context" application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
{"time":"2021-01-15T10:41:26.321169+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"DELETE","uri":"/pools/be215e27-a01b-457a-9c3f-c25c170bed63/agents/track-me-down-2","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4969581,"latency_human":"4.969581ms","bytes_in":0,"bytes_out":83}
    --- PASS: Test_ActionSuite/Test_PoolsResource_AgentDestroyed (0.04s)
=== RUN   Test_ActionSuite/Test_PoolsResource_AgentDestroyed_PoolID_Mismatch
time="2021-01-15T10:41:26.352723+01:00" level=error msg="code=400, message=invalid query parameters: invalid UUID length: 18" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.352738+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"DELETE","uri":"/pools/whatever-nevermind/agents/track-me-down-1","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=invalid query parameters: invalid UUID length: 18","latency":2412953,"latency_human":"2.412953ms","bytes_in":0,"bytes_out":70}
    --- PASS: Test_ActionSuite/Test_PoolsResource_AgentDestroyed_PoolID_Mismatch (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_Agents
{"time":"2021-01-15T10:41:26.391226+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools/49c64dfc-d473-4ac1-8d6e-69062ae43acd/agents","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":9000984,"latency_human":"9.000984ms","bytes_in":0,"bytes_out":97}
    --- PASS: Test_ActionSuite/Test_PoolsResource_Agents (0.04s)
=== RUN   Test_ActionSuite/Test_PoolsResource_CreatePool
{"time":"2021-01-15T10:41:26.417478+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/pool-intro-secrets","user_agent":"Go-http-client/1.1","status":201,"error":"","latency":3443244,"latency_human":"3.443244ms","bytes_in":33,"bytes_out":261}
time="2021-01-15T10:41:26.425443+01:00" level=error msg="Failed to get the Metrics from the Context" application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
{"time":"2021-01-15T10:41:26.425494+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/pools","user_agent":"Go-http-client/1.1","status":201,"error":"","latency":7813548,"latency_human":"7.813548ms","bytes_in":19,"bytes_out":399}
    --- PASS: Test_ActionSuite/Test_PoolsResource_CreatePool (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List
{"time":"2021-01-15T10:41:26.453473+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2347862,"latency_human":"2.347862ms","bytes_in":0,"bytes_out":512}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Created_At
{"time":"2021-01-15T10:41:26.489743+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?created_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4438663,"latency_human":"4.438663ms","bytes_in":0,"bytes_out":865}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Created_At (0.04s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Date_Patterns
{"time":"2021-01-15T10:41:26.517923+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?created_at=2016-01-01T15%3A04%3A05%2B07%3A00&updated_at=2016-01-01T15%3A04%3A05%2B07%3A00&alive_at=2016-01-01T15%3A04%3A05%2B07%3A00","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":5434885,"latency_human":"5.434885ms","bytes_in":0,"bytes_out":176}
{"time":"2021-01-15T10:41:26.523641+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?created_at=2016-01-01T15%3A04%3A05&updated_at=2016-01-01T15%3A04%3A05&alive_at=2016-01-01T15%3A04%3A05","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":5283737,"latency_human":"5.283737ms","bytes_in":0,"bytes_out":176}
{"time":"2021-01-15T10:41:26.529764+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?created_at=2016-01-01T15%3A04&updated_at=2016-01-01T15%3A04&alive_at=2016-01-01T15%3A04","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":5589986,"latency_human":"5.589986ms","bytes_in":0,"bytes_out":176}
{"time":"2021-01-15T10:41:26.535606+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?created_at=2016-01-01T15&updated_at=2016-01-01T15&alive_at=2016-01-01T15","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":5398283,"latency_human":"5.398283ms","bytes_in":0,"bytes_out":176}
{"time":"2021-01-15T10:41:26.540231+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?created_at=2016-01-01&updated_at=2016-01-01&alive_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4165595,"latency_human":"4.165595ms","bytes_in":0,"bytes_out":176}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Date_Patterns (0.05s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Is_Shuting_Down
{"time":"2021-01-15T10:41:26.566644+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?is_shutting_down=whatever_342","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2337473,"latency_human":"2.337473ms","bytes_in":0,"bytes_out":513}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Is_Shuting_Down (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Is_Shuting_Down_Include
{"time":"2021-01-15T10:41:26.599164+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?is_shutting_down=true","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2565968,"latency_human":"2.565968ms","bytes_in":0,"bytes_out":1197}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Is_Shuting_Down_Include (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_List_Input_Validation
time="2021-01-15T10:41:26.622972+01:00" level=error msg="code=400, message=created_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.622989+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?created_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=created_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":42910,"latency_human":"42.91µs","bytes_in":0,"bytes_out":225}
time="2021-01-15T10:41:26.623163+01:00" level=error msg="code=400, message=updated_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.623176+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?updated_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=updated_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":39107,"latency_human":"39.107µs","bytes_in":0,"bytes_out":225}
time="2021-01-15T10:41:26.623311+01:00" level=error msg="code=400, message=sort_by must be either created_at or updated_at" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.623322+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?sort_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=sort_by must be either created_at or updated_at","latency":26007,"latency_human":"26.007µs","bytes_in":0,"bytes_out":68}
time="2021-01-15T10:41:26.623426+01:00" level=error msg="code=400, message=order_by must be either asc or desc" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.623437+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?order_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=order_by must be either asc or desc","latency":23197,"latency_human":"23.197µs","bytes_in":0,"bytes_out":56}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_List_Input_Validation (0.02s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Pagination
{"time":"2021-01-15T10:41:26.654381+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?per_page=2&page=3","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2267755,"latency_human":"2.267755ms","bytes_in":0,"bytes_out":173}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Pagination (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Pagination_Defaults
{"time":"2021-01-15T10:41:26.688569+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2288686,"latency_human":"2.288686ms","bytes_in":0,"bytes_out":1197}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Pagination_Defaults (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Sorting_Custom
{"time":"2021-01-15T10:41:26.721343+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?sort_by=created_at&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":3017597,"latency_human":"3.017597ms","bytes_in":0,"bytes_out":1199}
{"time":"2021-01-15T10:41:26.727057+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?sort_by=updated_at&order_by=asc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":3791554,"latency_human":"3.791554ms","bytes_in":0,"bytes_out":1199}
{"time":"2021-01-15T10:41:26.731089+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?sort_by=created_at&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2212298,"latency_human":"2.212298ms","bytes_in":0,"bytes_out":1199}
{"time":"2021-01-15T10:41:26.735762+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?sort_by=updated_at&order_by=desc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":3005573,"latency_human":"3.005573ms","bytes_in":0,"bytes_out":1199}
{"time":"2021-01-15T10:41:26.739595+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?sort_by=CreAted_at&order_by=dEsc","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2489103,"latency_human":"2.489103ms","bytes_in":0,"bytes_out":1199}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Sorting_Custom (0.05s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Sorting_Default
{"time":"2021-01-15T10:41:26.771113+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":2237703,"latency_human":"2.237703ms","bytes_in":0,"bytes_out":1199}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Sorting_Default (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Tag_Multiple
{"time":"2021-01-15T10:41:26.805911+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?tags=busy,stopped","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":5004680,"latency_human":"5.00468ms","bytes_in":0,"bytes_out":564}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Tag_Multiple (0.04s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Tag_Single
{"time":"2021-01-15T10:41:26.840662+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?tags=alive","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":3988915,"latency_human":"3.988915ms","bytes_in":0,"bytes_out":1199}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Tag_Single (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_List_Updated_At
{"time":"2021-01-15T10:41:26.876236+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/pools?updated_at=2016-01-01","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":4866691,"latency_human":"4.866691ms","bytes_in":0,"bytes_out":865}
    --- PASS: Test_ActionSuite/Test_PoolsResource_List_Updated_At (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_PoolAgentIntroSecret
{"time":"2021-01-15T10:41:26.916115+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/pools/4141da68-11f2-4d61-a112-a713b1c4271c/agent-intro-secret","user_agent":"Go-http-client/1.1","status":201,"error":"","latency":7506569,"latency_human":"7.506569ms","bytes_in":0,"bytes_out":387}
{"time":"2021-01-15T10:41:26.927373+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/pools/613f4dbf-1f18-49ee-bce0-85471fe351c2/agent-intro-secret","user_agent":"Go-http-client/1.1","status":201,"error":"","latency":8346959,"latency_human":"8.346959ms","bytes_in":0,"bytes_out":392}
{"time":"2021-01-15T10:41:26.938126+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/pools/567bd857-500d-44e6-8065-db2aeadf2b51/agent-intro-secret","user_agent":"Go-http-client/1.1","status":201,"error":"","latency":8140845,"latency_human":"8.140845ms","bytes_in":0,"bytes_out":391}
    --- PASS: Test_ActionSuite/Test_PoolsResource_PoolAgentIntroSecret (0.06s)
=== RUN   Test_ActionSuite/Test_PoolsResource_PoolAgentIntroSecret_AuthError_MissingToken
time="2021-01-15T10:41:26.968783+01:00" level=warning msg="Failed to authenticate the request using any of the accepted authentication methods. Accepted Auth Methods are: Bitrise-Den-Pool-Token,Bitrise-Den-Admin-Secret. Request headers received: map[Accept-Encoding:gzip Bitrise-Den-Pool-Token:***oken Content-Length:0 Content-Type:application/json User-Agent:Go-http-client/1.1]" application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
time="2021-01-15T10:41:26.968817+01:00" level=error msg="code=401, message=Unauthenticated" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.968825+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/pools/bd3ce7d9-bd56-4206-b130-5e45076dd2ae/agent-intro-secret","user_agent":"Go-http-client/1.1","status":401,"error":"code=401, message=Unauthenticated","latency":2023401,"latency_human":"2.023401ms","bytes_in":0,"bytes_out":36}
    --- PASS: Test_ActionSuite/Test_PoolsResource_PoolAgentIntroSecret_AuthError_MissingToken (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_PoolAgentIntroSecret_AuthError_TokenMismatch
time="2021-01-15T10:41:26.998074+01:00" level=warning msg="Failed to authenticate the request using any of the accepted authentication methods. Accepted Auth Methods are: Bitrise-Den-Pool-Token,Bitrise-Den-Admin-Secret. Request headers received: map[Accept-Encoding:gzip Content-Length:0 Content-Type:application/json User-Agent:Go-http-client/1.1]" application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
time="2021-01-15T10:41:26.998102+01:00" level=error msg="code=401, message=Unauthenticated" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:26.998109+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/pools/f07f7afb-3a16-469a-8413-a1e459e46cc6/agent-intro-secret","user_agent":"Go-http-client/1.1","status":401,"error":"code=401, message=Unauthenticated","latency":2269323,"latency_human":"2.269323ms","bytes_in":0,"bytes_out":36}
    --- PASS: Test_ActionSuite/Test_PoolsResource_PoolAgentIntroSecret_AuthError_TokenMismatch (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_PoolAgentIntroSecret_AuthError_TokenPoolIDMismatch
time="2021-01-15T10:41:27.030941+01:00" level=error msg="code=403, message=Forbidden" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.030962+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"POST","uri":"/pools/colonizing-the-5ea8bf80-3717-47c4-a3a1-41314274d4d8un/agent-intro-secret","user_agent":"Go-http-client/1.1","status":403,"error":"code=403, message=Forbidden","latency":3095587,"latency_human":"3.095587ms","bytes_in":0,"bytes_out":30}
    --- PASS: Test_ActionSuite/Test_PoolsResource_PoolAgentIntroSecret_AuthError_TokenPoolIDMismatch (0.03s)
=== RUN   Test_ActionSuite/Test_PoolsResource_PoolShutdown
time="2021-01-15T10:41:27.068067+01:00" level=error msg="Failed to get the Metrics from the Context" application=bitrise-den component=server environment=development fwd=127.0.0.1 version=1.16.0
{"time":"2021-01-15T10:41:27.068145+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"DELETE","uri":"/pools/fff0ec8b-4a4f-4fdb-8aa9-25a1493245ac","user_agent":"Go-http-client/1.1","status":200,"error":"","latency":6605814,"latency_human":"6.605814ms","bytes_in":0,"bytes_out":318}
    --- PASS: Test_ActionSuite/Test_PoolsResource_PoolShutdown (0.04s)
=== RUN   Test_ActionSuite/Test_TasksResource_Create
2021/01/15 10:41:27 http: panic serving 127.0.0.1:60080: reflect: call of reflect.Value.Elem on struct Value
goroutine 840 [running]:
net/http.(*conn).serve.func1(0xc0017fbcc0)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/net/http/server.go:1800 +0x139
panic(0x19dad40, 0xc001870640)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:975 +0x3e3
reflect.Value.Elem(0x1acc7a0, 0xc00185e0e0, 0x99, 0x4, 0x1acc7a0, 0x2ec9788)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:827 +0x1a4
github.com/gobuffalo/pop.(*Model).fieldByName(0xc00186a5d0, 0x1afc81d, 0x9, 0x1933493, 0x4, 0xc0003023f8, 0xc001849b00, 0x1)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:116 +0xa3
github.com/gobuffalo/pop.(*Model).touchCreatedAt(0xc00186a5d0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:143 +0x55
github.com/gobuffalo/pop.(*Connection).Create.func1.1(0xbff876b1c5ccc978, 0xe5cc1d49)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:116 +0x1a3
github.com/gobuffalo/pop.(*Connection).timeFunc(0xc001579c20, 0x1af8d88, 0x6, 0xc0019ca8d0, 0xc0019ca960, 0x100e986)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192 +0x53
github.com/gobuffalo/pop.(*Connection).Create.func1(0xc00186a5d0, 0xc0018499d0, 0xc000380000)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:100 +0xa7
github.com/gobuffalo/pop.(*Model).iterate(0xc00186a5d0, 0xc0019ca9e0, 0x203000, 0x203000)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183 +0x23f
github.com/gobuffalo/pop.(*Connection).Create(0xc001579c20, 0x1acc7a0, 0xc00185e0e0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:99 +0xd6
github.com/gobuffalo/pop.(*Connection).eagerCreate(0xc001579c20, 0x1acc7a0, 0xc00185e0e0, 0x0, 0x0, 0x0, 0xc00066e680, 0xc0019cabe0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors_eager.go:17 +0x7a9
github.com/gobuffalo/pop.(*Connection).Create(0xc001579c20, 0x1acc7a0, 0xc00185e0e0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:95 +0x160
github.com/bitrise-io/den/server/actions.TasksResource.Create.func1(0xc001579c20, 0xc001579c20, 0x0)
	/Users/janosseteny/prj/infra/den/server/actions/tasks.go:263 +0x15c
github.com/gobuffalo/pop.(*Connection).Transaction.func1(0x1, 0xc0018702e0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:124 +0x62
github.com/gobuffalo/pop.(*postgresql).Lock(0xc000294600, 0xc0018702e0, 0x1, 0xc001864460)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:170 +0x27
github.com/gobuffalo/pop.(*Connection).Transaction(0xc00028c1e0, 0xc001864460, 0xc00192b270, 0x0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:118 +0x72
github.com/bitrise-io/den/server/actions.TasksResource.Create(0x1cb1f40, 0xc0002a86e0, 0x1b54298, 0xc0002a8760)
	/Users/janosseteny/prj/infra/den/server/actions/tasks.go:262 +0xd20
github.com/bitrise-io/den/server/router/middleware.CreateAuthorizeTaskResourceMiddleware.func1(0x1cb1f40, 0xc0002a86e0, 0x1, 0x0)
	/Users/janosseteny/prj/infra/den/server/router/middleware/authorize_task_resource.go:19 +0x691
github.com/bitrise-io/den/server/router/middleware.CreateAuthenticationMiddleware.func1.1(0x1cb1f40, 0xc0002a86e0, 0x10155cb, 0xc0002a8760)
	/Users/janosseteny/prj/infra/den/server/router/middleware/authentication.go:76 +0x87c
github.com/labstack/echo/v4.(*Echo).add.func1(0x1cb1f40, 0xc0002a86e0, 0x12, 0x1a92260)
	/Users/janosseteny/prj/infra/den/vendor/github.com/labstack/echo/v4/echo.go:512 +0x8a
github.com/bitrise-io/den/server/router.New.func3.1(0x1cb1f40, 0xc0002a86e0, 0x1aff0af, 0xc)
	/Users/janosseteny/prj/infra/den/server/router/router.go:166 +0x88
github.com/bitrise-io/den/server/router.New.func2.1(0x1cb1f40, 0xc0002a86e0, 0x16, 0x1aecb20)
	/Users/janosseteny/prj/infra/den/server/router/router.go:129 +0x11a
github.com/bitrise-io/den/server/router/middleware.PrepareAndInjectLoggerMiddleware.func1(0x1cb1f40, 0xc0002a86e0, 0x16, 0x19737c0)
	/Users/janosseteny/prj/infra/den/server/router/middleware/prepare_and_inject_logger.go:37 +0x158
github.com/bitrise-io/den/server/router/middleware.CreateSetConfigMiddleware.func1.1(0x1cb1f40, 0xc0002a86e0, 0x2, 0x1adee00)
	/Users/janosseteny/prj/infra/den/server/router/middleware/set_config.go:14 +0x88
github.com/bitrise-io/den/server/router/middleware.InjectDBConnectionMiddleware.func1(0x1cb1f40, 0xc0002a86e0, 0x2c31c00, 0x203000)
	/Users/janosseteny/prj/infra/den/server/router/middleware/inject_db_connection.go:12 +0x8b
github.com/labstack/echo/v4/middleware.LoggerWithConfig.func2.1(0x1cb1f40, 0xc0002a86e0, 0x0, 0x0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/labstack/echo/v4/middleware/logger.go:117 +0x130
github.com/labstack/echo/v4.(*Echo).ServeHTTP(0xc00000c1e0, 0x1c93dc0, 0xc000543ce0, 0xc001994a00)
	/Users/janosseteny/prj/infra/den/vendor/github.com/labstack/echo/v4/echo.go:623 +0x16c
net/http.serverHandler.ServeHTTP(0xc0001a47e0, 0x1c93dc0, 0xc000543ce0, 0xc001994a00)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/net/http/server.go:2836 +0xa3
net/http.(*conn).serve(0xc0017fbcc0, 0x1c96d00, 0xc001912dc0)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/net/http/server.go:1924 +0x86c
created by net/http.(*Server).Serve
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/net/http/server.go:2962 +0x35c
    actions_test.go:129:
        	Error Trace:	actions_test.go:129
        	            				tasks_test.go:790
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60043/tasks": EOF
        	Test:       	Test_ActionSuite/Test_TasksResource_Create
    suite.go:63: test panicked: runtime error: invalid memory address or nil pointer dereference
        goroutine 830 [running]:
        runtime/debug.Stack(0xc0019cb688, 0x19ee160, 0x2c17cd0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc001868240)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x19ee160, 0x2c17cd0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_TasksResource_Create(0xc0005fed20)
        	/Users/janosseteny/prj/infra/den/server/actions/tasks_test.go:793 +0x343
        reflect.Value.call(0xc000402b40, 0xc000713978, 0x13, 0x1af6cb2, 0x4, 0xc00078be30, 0x1, 0x1, 0xc00078bcf8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc000402b40, 0xc000713978, 0x13, 0xc00078be30, 0x1, 0x1, 0x10d6b5, 0x110f62f, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc001868240)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc001868240, 0xc00067bc20)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ActionSuite/Test_TasksResource_Create (0.04s)

=== RUN   Test_ActionSuite/Test_TasksResource_Create_WithWebhookURL
2021/01/15 10:41:27 http: panic serving 127.0.0.1:60082: reflect: call of reflect.Value.Elem on struct Value
goroutine 848 [running]:
net/http.(*conn).serve.func1(0xc001958000)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/net/http/server.go:1800 +0x139
panic(0x19dad40, 0xc0019b16c0)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:975 +0x3e3
reflect.Value.Elem(0x1acc7a0, 0xc0019a2460, 0x99, 0x4, 0x1acc7a0, 0x2ec9788)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:827 +0x1a4
github.com/gobuffalo/pop.(*Model).fieldByName(0xc0019afef0, 0x1afc81d, 0x9, 0x1933493, 0x4, 0xc0003023f8, 0xc0019a5700, 0x1)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:116 +0xa3
github.com/gobuffalo/pop.(*Model).touchCreatedAt(0xc0019afef0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:143 +0x55
github.com/gobuffalo/pop.(*Connection).Create.func1.1(0xbff876b1c814c578, 0xe8141645)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:116 +0x1a3
github.com/gobuffalo/pop.(*Connection).timeFunc(0xc001989200, 0x1af8d88, 0x6, 0xc0019628d0, 0xc001962960, 0x100e986)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:192 +0x53
github.com/gobuffalo/pop.(*Connection).Create.func1(0xc0019afef0, 0xc0019a55f8, 0xc000380000)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:100 +0xa7
github.com/gobuffalo/pop.(*Model).iterate(0xc0019afef0, 0xc0019629e0, 0x203000, 0x203000)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/model.go:183 +0x23f
github.com/gobuffalo/pop.(*Connection).Create(0xc001989200, 0x1acc7a0, 0xc0019a2460, 0x0, 0x0, 0x0, 0x0, 0x0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:99 +0xd6
github.com/gobuffalo/pop.(*Connection).eagerCreate(0xc001989200, 0x1acc7a0, 0xc0019a2460, 0x0, 0x0, 0x0, 0xc00066e600, 0xc001962be0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors_eager.go:17 +0x7a9
github.com/gobuffalo/pop.(*Connection).Create(0xc001989200, 0x1acc7a0, 0xc0019a2460, 0x0, 0x0, 0x0, 0x0, 0x0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/executors.go:95 +0x160
github.com/bitrise-io/den/server/actions.TasksResource.Create.func1(0xc001989200, 0xc001989200, 0x0)
	/Users/janosseteny/prj/infra/den/server/actions/tasks.go:263 +0x15c
github.com/gobuffalo/pop.(*Connection).Transaction.func1(0x1, 0xc0019b1360)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:124 +0x62
github.com/gobuffalo/pop.(*postgresql).Lock(0xc000294600, 0xc0019b1360, 0x1, 0xc0019d0690)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/postgresql.go:170 +0x27
github.com/gobuffalo/pop.(*Connection).Transaction(0xc00028c1e0, 0xc0019d0690, 0xc0019d0670, 0x0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/gobuffalo/pop/connection.go:118 +0x72
github.com/bitrise-io/den/server/actions.TasksResource.Create(0x1cb1f40, 0xc0019580a0, 0x1b54298, 0xc001958120)
	/Users/janosseteny/prj/infra/den/server/actions/tasks.go:262 +0xd20
github.com/bitrise-io/den/server/router/middleware.CreateAuthorizeTaskResourceMiddleware.func1(0x1cb1f40, 0xc0019580a0, 0x1, 0x0)
	/Users/janosseteny/prj/infra/den/server/router/middleware/authorize_task_resource.go:19 +0x691
github.com/bitrise-io/den/server/router/middleware.CreateAuthenticationMiddleware.func1.1(0x1cb1f40, 0xc0019580a0, 0x10155cb, 0xc001958120)
	/Users/janosseteny/prj/infra/den/server/router/middleware/authentication.go:76 +0x87c
github.com/labstack/echo/v4.(*Echo).add.func1(0x1cb1f40, 0xc0019580a0, 0x12, 0x1a92260)
	/Users/janosseteny/prj/infra/den/vendor/github.com/labstack/echo/v4/echo.go:512 +0x8a
github.com/bitrise-io/den/server/router.New.func3.1(0x1cb1f40, 0xc0019580a0, 0x1aff0af, 0xc)
	/Users/janosseteny/prj/infra/den/server/router/router.go:166 +0x88
github.com/bitrise-io/den/server/router.New.func2.1(0x1cb1f40, 0xc0019580a0, 0x16, 0x1aecb20)
	/Users/janosseteny/prj/infra/den/server/router/router.go:129 +0x11a
github.com/bitrise-io/den/server/router/middleware.PrepareAndInjectLoggerMiddleware.func1(0x1cb1f40, 0xc0019580a0, 0x16, 0x19737c0)
	/Users/janosseteny/prj/infra/den/server/router/middleware/prepare_and_inject_logger.go:37 +0x158
github.com/bitrise-io/den/server/router/middleware.CreateSetConfigMiddleware.func1.1(0x1cb1f40, 0xc0019580a0, 0x2, 0x1adee00)
	/Users/janosseteny/prj/infra/den/server/router/middleware/set_config.go:14 +0x88
github.com/bitrise-io/den/server/router/middleware.InjectDBConnectionMiddleware.func1(0x1cb1f40, 0xc0019580a0, 0x2c31c00, 0x203000)
	/Users/janosseteny/prj/infra/den/server/router/middleware/inject_db_connection.go:12 +0x8b
github.com/labstack/echo/v4/middleware.LoggerWithConfig.func2.1(0x1cb1f40, 0xc0019580a0, 0x0, 0x0)
	/Users/janosseteny/prj/infra/den/vendor/github.com/labstack/echo/v4/middleware/logger.go:117 +0x130
github.com/labstack/echo/v4.(*Echo).ServeHTTP(0xc00000c1e0, 0x1c93dc0, 0xc000543ea0, 0xc001924a00)
	/Users/janosseteny/prj/infra/den/vendor/github.com/labstack/echo/v4/echo.go:623 +0x16c
net/http.serverHandler.ServeHTTP(0xc0001a47e0, 0x1c93dc0, 0xc000543ea0, 0xc001924a00)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/net/http/server.go:2836 +0xa3
net/http.(*conn).serve(0xc001958000, 0x1c96d00, 0xc001913000)
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/net/http/server.go:1924 +0x86c
created by net/http.(*Server).Serve
	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/net/http/server.go:2962 +0x35c
    actions_test.go:129:
        	Error Trace:	actions_test.go:129
        	            				tasks_test.go:850
        	Error:      	Received unexpected error:
        	            	Post "http://127.0.0.1:60043/tasks": EOF
        	Test:       	Test_ActionSuite/Test_TasksResource_Create_WithWebhookURL
    suite.go:63: test panicked: runtime error: invalid memory address or nil pointer dereference
        goroutine 866 [running]:
        runtime/debug.Stack(0xc001963618, 0x19ee160, 0x2c17cd0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/debug/stack.go:24 +0x9d
        github.com/stretchr/testify/suite.failOnPanic(0xc001868900)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:63 +0x57
        panic(0x19ee160, 0x2c17cd0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/runtime/panic.go:969 +0x166
        github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Bind(0xc0005fed20, 0x0, 0x1a23080, 0xc001994b00)
        	/Users/janosseteny/prj/infra/den/server/actions/actions_test.go:136 +0x64
        github.com/bitrise-io/den/server/actions_test.(*ActionSuite).Test_TasksResource_Create_WithWebhookURL(0xc0005fed20)
        	/Users/janosseteny/prj/infra/den/server/actions/tasks_test.go:853 +0x38f
        reflect.Value.call(0xc000402b40, 0xc000713990, 0x13, 0x1af6cb2, 0x4, 0xc00078be30, 0x1, 0x1, 0xc00078bcf8, 0x100c93a, ...)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:460 +0x8ab
        reflect.Value.Call(0xc000402b40, 0xc000713990, 0x13, 0xc00078be30, 0x1, 0x1, 0x10d6b5, 0x110f62f, 0x0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/reflect/value.go:321 +0xb4
        github.com/stretchr/testify/suite.Run.func1(0xc001868900)
        	/Users/janosseteny/prj/infra/den/vendor/github.com/stretchr/testify/suite/suite.go:158 +0x366
        testing.tRunner(0xc001868900, 0xc00067bcb0)
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1050 +0xdc
        created by testing.(*T).Run
        	/usr/local/Cellar/go@1.14/1.14.13/libexec/src/testing/testing.go:1095 +0x28b
    --- FAIL: Test_ActionSuite/Test_TasksResource_Create_WithWebhookURL (0.06s)

=== RUN   Test_ActionSuite/Test_TasksResource_List
time="2021-01-15T10:41:27.213462+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.213484+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":2274857,"latency_human":"2.274857ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:76
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:86:
        	Error Trace:	tasks_test.go:86
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List
        	Messages:   	pq: column tasks.base does not exist
    tasks_test.go:91:
        	Error Trace:	tasks_test.go:91
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List
        	Messages:   	List endpoint must return all queued and started tasks sorted by created_at in desc order
    --- FAIL: Test_ActionSuite/Test_TasksResource_List (0.06s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Created_At
time="2021-01-15T10:41:27.255041+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.255061+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?created_at=2016-01-01","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1552331,"latency_human":"1.552331ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:129
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Created_At
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:139:
        	Error Trace:	tasks_test.go:139
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Created_At
    tasks_test.go:144:
        	Error Trace:	tasks_test.go:144
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Created_At
        	Messages:   	The created_at query parameter must limit the result set to tasks been created after the specified date
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Created_At (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Input_Validation
time="2021-01-15T10:41:27.284638+01:00" level=error msg="code=400, message=created_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.284658+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?created_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=created_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":51356,"latency_human":"51.356µs","bytes_in":0,"bytes_out":225}
time="2021-01-15T10:41:27.284906+01:00" level=error msg="code=400, message=started_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.284924+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?started_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=started_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":52188,"latency_human":"52.188µs","bytes_in":0,"bytes_out":225}
time="2021-01-15T10:41:27.285124+01:00" level=error msg="code=400, message=updated_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.285138+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?updated_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=updated_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":45024,"latency_human":"45.024µs","bytes_in":0,"bytes_out":225}
time="2021-01-15T10:41:27.285361+01:00" level=error msg="code=400, message=finished_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.285398+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?finished_at=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=finished_at has an unrecognizable value: wHaTeVer, internal=failed to parse wHaTeVer using either of these layouts: [2006-01-02T15:04:05Z07:00 2006-01-02T15:04:05 2006-01-02T15:04 2006-01-02T15 2006-01-02]","latency":65413,"latency_human":"65.413µs","bytes_in":0,"bytes_out":226}
time="2021-01-15T10:41:27.285628+01:00" level=error msg="code=400, message=status must be either queued, started, finished, timeout or aborted" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.28564+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?status=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=status must be either queued, started, finished, timeout or aborted","latency":25358,"latency_human":"25.358µs","bytes_in":0,"bytes_out":88}
time="2021-01-15T10:41:27.285875+01:00" level=error msg="code=400, message=sort_by must be either created_at, started_at, updated_at, finished_at, exit_code or config_type" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.285889+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=sort_by must be either created_at, started_at, updated_at, finished_at, exit_code or config_type","latency":39382,"latency_human":"39.382µs","bytes_in":0,"bytes_out":117}
time="2021-01-15T10:41:27.286122+01:00" level=error msg="code=400, message=order_by must be either asc or desc" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.286137+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?order_by=wHaTeVer","user_agent":"Go-http-client/1.1","status":400,"error":"code=400, message=order_by must be either asc or desc","latency":44444,"latency_human":"44.444µs","bytes_in":0,"bytes_out":56}
    --- PASS: Test_ActionSuite/Test_TasksResource_List_Input_Validation (0.03s)
=== RUN   Test_ActionSuite/Test_TasksResource_List_Pagination
time="2021-01-15T10:41:27.329547+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.329576+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?per_page=2&page=3","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":2059254,"latency_human":"2.059254ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:577
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Pagination
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:587:
        	Error Trace:	tasks_test.go:587
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Pagination
    tasks_test.go:594:
        	Error Trace:	tasks_test.go:594
        	Error:      	Not equal:
        	            	expected: 2
        	            	actual  : 0
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Pagination
        	Messages:   	Page size must be 2
    tasks_test.go:596:
        	Error Trace:	tasks_test.go:596
        	Error:      	Not equal:
        	            	expected: 3
        	            	actual  : 0
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Pagination
        	Messages:   	Third page should be returned
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Pagination (0.05s)


Expected :3
Actual   :0
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Pagination_Defaults
time="2021-01-15T10:41:27.372167+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.372198+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1737532,"latency_human":"1.737532ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:527
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Pagination_Defaults
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:537:
        	Error Trace:	tasks_test.go:537
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Pagination_Defaults
    tasks_test.go:544:
        	Error Trace:	tasks_test.go:544
        	Error:      	Not equal:
        	            	expected: 1000
        	            	actual  : 0
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Pagination_Defaults
        	Messages:   	Default page size must be 1000
    tasks_test.go:546:
        	Error Trace:	tasks_test.go:546
        	Error:      	Not equal:
        	            	expected: 1
        	            	actual  : 0
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Pagination_Defaults
        	Messages:   	First page should be returned by default
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Pagination_Defaults (0.04s)


Expected :1
Actual   :0
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
time="2021-01-15T10:41:27.419293+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.419338+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=created_at&order_by=asc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1728429,"latency_human":"1.728429ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by created_at column in asc order
time="2021-01-15T10:41:27.424256+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.424276+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=started_at&order_by=asc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":2210955,"latency_human":"2.210955ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by started_at column in asc order
time="2021-01-15T10:41:27.428038+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.428069+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=updated_at&order_by=asc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1796571,"latency_human":"1.796571ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by updated_at column in asc order
time="2021-01-15T10:41:27.431847+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.431865+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=finished_at&order_by=asc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1722872,"latency_human":"1.722872ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by finished_at column in asc order
time="2021-01-15T10:41:27.436568+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.436596+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=exit_code&order_by=asc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":2134425,"latency_human":"2.134425ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by exit_code column in asc order
time="2021-01-15T10:41:27.441156+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.441187+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=created_at&order_by=desc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1993031,"latency_human":"1.993031ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by created_at column in desc order
time="2021-01-15T10:41:27.445944+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.445978+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=started_at&order_by=desc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1877316,"latency_human":"1.877316ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by started_at column in desc order
time="2021-01-15T10:41:27.451607+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.451634+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=updated_at&order_by=desc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":3068386,"latency_human":"3.068386ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by updated_at column in desc order
time="2021-01-15T10:41:27.456319+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.456341+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=finished_at&order_by=desc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":2194985,"latency_human":"2.194985ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by finished_at column in desc order
time="2021-01-15T10:41:27.461461+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.461481+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=exit_code&order_by=desc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":2237902,"latency_human":"2.237902ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by exit_code column in desc order
time="2021-01-15T10:41:27.466452+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.466471+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?sort_by=CreAted_at&order_by=dEsc&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":2154414,"latency_human":"2.154414ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:715
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:727:
        	Error Trace:	tasks_test.go:727
        	Error:      	Failed to load records from the DB
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
    tasks_test.go:732:
        	Error Trace:	tasks_test.go:732
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Custom
        	Messages:   	The result payload must be sorted by created_at column in desc order
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Sorting_Custom (0.09s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Sorting_Default
time="2021-01-15T10:41:27.5038+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.503834+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1424150,"latency_human":"1.42415ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:627
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Default
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:637:
        	Error Trace:	tasks_test.go:637
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Default
    tasks_test.go:642:
        	Error Trace:	tasks_test.go:642
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Sorting_Default
        	Messages:   	The result payload must be sorted by created_at column in descendent order
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Sorting_Default (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Started_At
time="2021-01-15T10:41:27.540936+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.540953+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?started_at=2016-01-01","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1664183,"latency_human":"1.664183ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:239
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Started_At
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:249:
        	Error Trace:	tasks_test.go:249
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Started_At
    tasks_test.go:254:
        	Error Trace:	tasks_test.go:254
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Started_At
        	Messages:   	The updated_at query parameter must limit the result set to tasks been started after the specified date
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Started_At (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Status
time="2021-01-15T10:41:27.582995+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.583015+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?status=queued&&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1722808,"latency_human":"1.722808ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:374
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:384:
        	Error Trace:	tasks_test.go:384
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
    tasks_test.go:389:
        	Error Trace:	tasks_test.go:389
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The status=queued query parameter must limit the result set to tasks having status of queued
time="2021-01-15T10:41:27.586748+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.586766+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?status=started&&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1564157,"latency_human":"1.564157ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:374
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:384:
        	Error Trace:	tasks_test.go:384
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
    tasks_test.go:389:
        	Error Trace:	tasks_test.go:389
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The status=started query parameter must limit the result set to tasks having status of started
time="2021-01-15T10:41:27.590193+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.590208+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?status=finished&&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1648413,"latency_human":"1.648413ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:374
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:384:
        	Error Trace:	tasks_test.go:384
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
    tasks_test.go:389:
        	Error Trace:	tasks_test.go:389
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The status=finished query parameter must limit the result set to tasks having status of finished
time="2021-01-15T10:41:27.593145+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.593158+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?status=timeout&&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1378093,"latency_human":"1.378093ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:374
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:384:
        	Error Trace:	tasks_test.go:384
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
    tasks_test.go:389:
        	Error Trace:	tasks_test.go:389
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The status=timeout query parameter must limit the result set to tasks having status of timeout
time="2021-01-15T10:41:27.595907+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.59592+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?status=aborted&&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1313339,"latency_human":"1.313339ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:374
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:384:
        	Error Trace:	tasks_test.go:384
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
    tasks_test.go:389:
        	Error Trace:	tasks_test.go:389
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Status
        	Messages:   	The status=aborted query parameter must limit the result set to tasks having status of aborted
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Status (0.05s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Tag_Multiple
time="2021-01-15T10:41:27.62438+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.624396+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?tags=busy,stopped","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1077107,"latency_human":"1.077107ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:480
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Tag_Multiple
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:491:
        	Error Trace:	tasks_test.go:491
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Tag_Multiple
    tasks_test.go:496:
        	Error Trace:	tasks_test.go:496
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Tag_Multiple
        	Messages:   	The tag query must limit the result set to records having either of the given tags included as part of the tag column
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Tag_Multiple (0.03s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Tag_Single
time="2021-01-15T10:41:27.657592+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.657611+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?tags=alive&task_config=true","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1477564,"latency_human":"1.477564ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:427
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Tag_Single
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:437:
        	Error Trace:	tasks_test.go:437
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Tag_Single
    tasks_test.go:442:
        	Error Trace:	tasks_test.go:442
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Tag_Single
        	Messages:   	The tag query must limit the result set to records having the given tag listed as part of the tag column
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Tag_Single (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_Updated_At
time="2021-01-15T10:41:27.697108+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.697131+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?updated_at=2016-01-01","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1916767,"latency_human":"1.916767ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:183
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Updated_At
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:193:
        	Error Trace:	tasks_test.go:193
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_Updated_At
    tasks_test.go:198:
        	Error Trace:	tasks_test.go:198
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_Updated_At
        	Messages:   	The updated_at query parameter must limit the result set to tasks been updated after the specified date
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_Updated_At (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>


=== RUN   Test_ActionSuite/Test_TasksResource_List_finished_At
time="2021-01-15T10:41:27.737075+01:00" level=error msg="code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist" application=bitrise-den component=server environment=development version=1.16.0
{"time":"2021-01-15T10:41:27.737095+01:00","id":"","remote_ip":"127.0.0.1","host":"127.0.0.1:60043","method":"GET","uri":"/tasks?finished_at=2016-01-01","user_agent":"Go-http-client/1.1","status":500,"error":"code=500, message=Failed to find Tasks, internal=pq: column tasks.base does not exist","latency":1952284,"latency_human":"1.952284ms","bytes_in":0,"bytes_out":88}
    actions_test.go:136:
        	Error Trace:	actions_test.go:136
        	            				tasks_test.go:296
        	Error:      	Received unexpected error:
        	            	json: cannot unmarshal string into Go value of type models.TasksPage
        	Test:       	Test_ActionSuite/Test_TasksResource_List_finished_At
        	Messages:   	The response body should be JSON decoded
pq: column tasks.base does not exist
    tasks_test.go:306:
        	Error Trace:	tasks_test.go:306
        	Error:      	Failed to load records from the DB: %s
        	Test:       	Test_ActionSuite/Test_TasksResource_List_finished_At
    tasks_test.go:311:
        	Error Trace:	tasks_test.go:311
        	Error:      	Not equal:
        	            	expected: models.TasksView{}
        	            	actual  : models.TasksView(nil)

        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,3 +1,2 @@
        	            	-(models.TasksView) {
        	            	-}
        	            	+(models.TasksView) <nil>

        	Test:       	Test_ActionSuite/Test_TasksResource_List_finished_At
        	Messages:   	The alive_at query parameter must limit the result set to tasks been finished after the specified date
    --- FAIL: Test_ActionSuite/Test_TasksResource_List_finished_At (0.04s)


Expected :models.TasksView{}
Actual   :models.TasksView(nil)
<Click to see difference>



FAIL
FAIL	github.com/bitrise-io/den/server/actions	7.561s
?   	github.com/bitrise-io/den/server/cloudprofiler	[no test files]
?   	github.com/bitrise-io/den/server/constants	[no test files]
?   	github.com/bitrise-io/den/server/docs	[no test files]
?   	github.com/bitrise-io/den/server/migrations/statik	[no test files]
?   	github.com/bitrise-io/den/server/mocks	[no test files]
?   	github.com/bitrise-io/den/server/models/dbhooks	[no test files]
?   	github.com/bitrise-io/den/server/models/slices	[no test files]
?   	github.com/bitrise-io/den/server/router/middleware	[no test files]
?   	github.com/bitrise-io/den/server/utils	[no test files]
?   	github.com/bitrise-io/den/system-test	[no test files]
?   	github.com/bitrise-io/den/system-test/cmd	[no test files]

Process finished with exit code 1

